<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-09-09 Wed 15:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ldlework's init.el</title>
<meta name="generator" content="Org mode" />
<meta name="description" content="A literate programming style exposition of my Emacs configuration"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
<script type="text/javascript" src="https://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/" src="https://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">ldlework's init.el</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd141ecd">setup</a>
<ul>
<li><a href="#org6a746a2">lexical binding</a></li>
<li><a href="#orgf4d8554">straight.el</a>
<ul>
<li><a href="#orgee6eea7">bootstrap</a></li>
<li><a href="#orga1ab74a">use-package integration</a></li>
</ul>
</li>
<li><a href="#org1f9dcb5">general dependencies</a></li>
<li><a href="#orgc454245">linux paths</a></li>
<li><a href="#orgbe3ab63">windows paths</a></li>
<li><a href="#orgee8436d">utility functions</a>
<ul>
<li><a href="#org3fd1140">my/org-file-name</a></li>
<li><a href="#orge6d13fa">my/notes-file-name</a></li>
<li><a href="#org4bb905b">my/bookmarks-file-name</a></li>
<li><a href="#org2eab02f">my/template-directory</a></li>
<li><a href="#orgd6065dc">my/template-file-name</a></li>
<li><a href="#org93a7bc4">my/project-directory</a></li>
<li><a href="#org02f7c6e">my/source-directory</a></li>
<li><a href="#org5e5144c">setup external browser</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org0862a33">aesthetics</a>
<ul>
<li><a href="#org6198110">vertical border</a></li>
<li><a href="#org0574c32">blend in the fringes</a></li>
</ul>
</li>
<li><a href="#org44dca0c">core</a>
<ul>
<li><a href="#org19ca0ae">autosaves</a>
<ul>
<li><a href="#org880e553">autosave every buffer that visits a file</a></li>
<li><a href="#org2810a9c">save every 20 secs or 20 keystrokes</a></li>
<li><a href="#org8848a9d">store autosaves in a single place</a></li>
</ul>
</li>
<li><a href="#orge4a77fe">backups</a>
<ul>
<li><a href="#org51a9585">store backups with the autosaves</a></li>
<li><a href="#org7461a65">keep 10 backups</a></li>
<li><a href="#org2d0f223">delete old backups</a></li>
<li><a href="#orga3e219f">copy files to avoid various problems</a></li>
<li><a href="#org7591afa">backup files even if version controlled</a></li>
</ul>
</li>
<li><a href="#org30dab46">cursor</a>
<ul>
<li><a href="#orge4f5c4c">box style</a></li>
<li><a href="#org44b392d">blinking</a></li>
</ul>
</li>
<li><a href="#orgc51b5d9">disable</a>
<ul>
<li><a href="#orge27f6f1">menubar</a></li>
<li><a href="#orga446569">toolbar</a></li>
<li><a href="#org245e6c5">scrollbar</a></li>
<li><a href="#orgd8246eb">startup message</a></li>
<li><a href="#orga931bb2">customizations file</a></li>
</ul>
</li>
<li><a href="#org74dab31">editing</a>
<ul>
<li><a href="#orgab6638e">use spaces</a></li>
<li><a href="#org5af58fd">visual fill-column</a></li>
<li><a href="#org88ed190">fill at 79</a></li>
<li><a href="#org4b1127e">autofill text-mode</a></li>
<li><a href="#orgb30101c">ssh for tramp</a></li>
</ul>
</li>
<li><a href="#org4f67325">key-bindings</a>
<ul>
<li><a href="#orge0d128e">meta n &amp; p</a></li>
</ul>
</li>
<li><a href="#org8805d1c">minor-modes</a>
<ul>
<li><a href="#org06da18a">whitespace-mode</a></li>
<li><a href="#org1daecb6">prettify-symbols-mode</a></li>
<li><a href="#org111a842">electric-pair-mode</a></li>
<li><a href="#orgdc38235">rainbow-delimeters-mode</a></li>
<li><a href="#orga383f5b">show-paren-mode</a></li>
<li><a href="#orgc0bf7e1">which-key-mode</a></li>
<li><a href="#org65ed525">company-mode</a></li>
</ul>
</li>
<li><a href="#org170b769">shorten prompts</a></li>
<li><a href="#orgbc8a9dd">debug on error</a></li>
</ul>
</li>
<li><a href="#org3198a73">helpful</a></li>
<li><a href="#org5fdce6a">deflayer</a></li>
<li><a href="#org5003d44">polymode</a></li>
<li><a href="#orgae1d2c9">org-mode</a>
<ul>
<li><a href="#orgd92d041">straight.el fixes</a>
<ul>
<li><a href="#org76b5448">fix-org-git-version</a></li>
<li><a href="#orgdcd3dbc">fix-org-release</a></li>
</ul>
</li>
<li><a href="#org7d879d6">installation</a></li>
<li><a href="#orgbb4f88c">security</a></li>
<li><a href="#org38b58c1">look</a>
<ul>
<li><a href="#orgf12669d">indent by header level</a></li>
<li><a href="#org4f332ab">pretty heading bullets</a></li>
<li><a href="#org3195c74">pretty priority cookies</a></li>
<li><a href="#orgdd13b1b">pretty heading ellipsis</a></li>
<li><a href="#org295e8ad">dynamic tag position</a></li>
</ul>
</li>
<li><a href="#org7bcc6b1">feel</a>
<ul>
<li><a href="#orgd3e85ee">don't fold blocks on open</a></li>
<li><a href="#org69674f7">auto-fill paragraphs</a></li>
<li><a href="#org8467ad0">respect content on heading insert</a></li>
<li><a href="#orgd02a912">ensure one-line between headers</a></li>
<li><a href="#orgeb4d457">initial visibility</a></li>
</ul>
</li>
<li><a href="#org98209d6">todo states</a></li>
<li><a href="#org139a3eb">poly-org</a></li>
<li><a href="#org4aaa6f4">org-modules</a></li>
<li><a href="#org8ebdb2d">org-babel</a>
<ul>
<li><a href="#org60551f4">add languages to babel</a></li>
<li><a href="#org793d23e">set default header args</a></li>
<li><a href="#orgae13a2b">disable code evaluation prompts</a></li>
</ul>
</li>
<li><a href="#orgbeb64aa">org-helm</a></li>
<li><a href="#org4709988">org-projectile</a></li>
<li><a href="#org7d83928">org-capture</a>
<ul>
<li><a href="#org7991079">set default notes file</a></li>
<li><a href="#org5ec4c1b">bind a key for capture</a></li>
<li><a href="#org457bfb4">automatically visit new capture</a></li>
<li><a href="#org452dfca">capture templates</a></li>
</ul>
</li>
<li><a href="#orgfd650d4">org-agenda</a></li>
<li><a href="#org50ad76d">org-fragtog</a></li>
<li><a href="#org354843f">linkmarks</a></li>
<li><a href="#org20e6d9e">outshine</a></li>
<li><a href="#orga9ec431">org-ql</a></li>
<li><a href="#orgf89a396">i-read-this</a></li>
<li><a href="#orgd16aa71">don't prompt to confirm not prompting to confirm</a></li>
</ul>
</li>
<li><a href="#org5c6d890">projectile</a>
<ul>
<li><a href="#orga3f4f32">project discovery</a></li>
</ul>
</li>
<li><a href="#org5e07503">helm</a>
<ul>
<li><a href="#orgaca1471">ace-jump-helm-line</a></li>
<li><a href="#org83f9c5f">helm-bookmarks</a></li>
<li><a href="#org71ee17c">helm-ag</a></li>
<li><a href="#orge71932a">helm-descbinds</a></li>
<li><a href="#org7986f69">helm-flyspell</a></li>
<li><a href="#org9ef4682">helm-org-rifle</a></li>
<li><a href="#org0391b0b">helm-projectile</a></li>
<li><a href="#orga82d358">auto full frame</a></li>
<li><a href="#org01af5ec">filter nix wrappers</a></li>
</ul>
</li>
<li><a href="#org23b918d">magit</a>
<ul>
<li><a href="#org758e5a8">forge</a></li>
</ul>
</li>
<li><a href="#orgb87d6c3">language support</a>
<ul>
<li><a href="#orgcd6376b">flycheck</a></li>
<li><a href="#orgb61d447">elisp</a>
<ul>
<li><a href="#org5d57183">macrostep</a></li>
<li><a href="#org520ecef">context-help</a></li>
<li><a href="#orgdc64c4e">lispy-mode</a></li>
</ul>
</li>
<li><a href="#orgc7f95b2">markdown-mode</a></li>
<li><a href="#org5582760">python</a>
<ul>
<li><a href="#orge8491bd">elpy</a></li>
</ul>
</li>
<li><a href="#orgf017f95">typescript</a>
<ul>
<li><a href="#orga606cee">typescript-mode</a></li>
<li><a href="#orgd6b610f">jsx</a></li>
</ul>
</li>
<li><a href="#org34d3cb1">yaml</a>
<ul>
<li><a href="#org5ea7c55">yaml-mode</a></li>
</ul>
</li>
<li><a href="#orge991812">web-mode</a></li>
<li><a href="#orga9535ef">go-mode</a></li>
<li><a href="#orgae3e2f7">lojban</a></li>
<li><a href="#orgcaf9649">csharp</a>
<ul>
<li><a href="#org23833bd">csharp-mode</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf41877e">tooling support</a>
<ul>
<li><a href="#org8cbabee">rec-mode</a>
<ul>
<li><a href="#orgdea5645">support</a></li>
</ul>
</li>
<li><a href="#org2b22236">docker</a></li>
<li><a href="#org03b9cda">nix</a>
<ul>
<li><a href="#orga69f422">nix-mode</a></li>
<li><a href="#orgd8c8615">nix-sandbox</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc224f00">yasnippet</a></li>
<li><a href="#orgd890de8">org-brain</a>
<ul>
<li><a href="#org50d6a3c">Navigation Helpers</a></li>
<li><a href="#org8e532dc">polybrain</a></li>
<li><a href="#org863115c">search</a></li>
</ul>
</li>
<li><a href="#org7c858dd">hydra</a>
<ul>
<li><a href="#orgaa999c6">pretty-hydra</a></li>
<li><a href="#org8f7e375">major-mode-hydra</a></li>
<li><a href="#orgbd124f5">hera</a></li>
<li><a href="#orga36902a">nougat-hydra</a></li>
<li><a href="#org16d6997">hydra-dwim</a></li>
<li><a href="#org2b72621">helm-org-bm</a></li>
<li><a href="#org4d7c408">major-mode hydra key</a></li>
<li><a href="#org163c775">hydra-help</a></li>
<li><a href="#orgcc2bdc3">hydra-mark</a></li>
<li><a href="#orgd95a92b">hydra-projectile</a></li>
<li><a href="#orgafd512b">hydra-registers</a></li>
<li><a href="#org9a8acbe">hydra-window</a>
<ul>
<li><a href="#org03e348b">Toggle Window Split</a></li>
</ul>
</li>
<li><a href="#orgab4c7c7">hydra-yank-pop</a></li>
<li><a href="#org803c5cb">hydra-zoom</a></li>
<li><a href="#org9aeb0a6">emacs-lisp</a></li>
<li><a href="#orgf34410f">org-mode</a>
<ul>
<li><a href="#orgc5efec3">hydra-org-goto-first-sibling</a></li>
<li><a href="#org35621ab">hydra-org-goto-last-sibling</a></li>
<li><a href="#org0116ec8">hydra-org-parent-level</a></li>
<li><a href="#orga61a0cb">hydra-org-child-level</a></li>
<li><a href="#org0d5130d">hydra-org</a></li>
</ul>
</li>
<li><a href="#orgb7613e9">hydra-brain</a>
<ul>
<li><a href="#org3680558">Toggle Window Split</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgdb420b1">treemacs</a>
<ul>
<li><a href="#org1939cbe">Hydra</a></li>
</ul>
</li>
<li><a href="#orgbdaccc5">elfeed</a>
<ul>
<li><a href="#org43bf751">boilerplate</a></li>
<li><a href="#org73807f6">setup</a></li>
</ul>
</li>
<li><a href="#org861a578">misc</a>
<ul>
<li><a href="#org9943147">emacsql</a></li>
<li><a href="#org77f4fa0">gist</a></li>
<li><a href="#org8621fc1">poker.el</a></li>
<li><a href="#org46e4f96">decide-mode</a></li>
</ul>
</li>
<li><a href="#org2944fdf">entrypoint</a>
<ul>
<li><a href="#org084fc86">ep-notes-file</a></li>
<li><a href="#orge1650d0">ep-notes-find-file</a></li>
<li><a href="#org119b5b5">ep-notes-visit</a></li>
<li><a href="#orgf8fa74f">ep-notes-select-then-visit</a></li>
<li><a href="#orgb08a945">bookmarks</a></li>
<li><a href="#org4dd5629">docs</a></li>
<li><a href="#orgae2e061">nix</a></li>
<li><a href="#orgd18dc41">hydra-default</a></li>
</ul>
</li>
<li><a href="#org23d2bd5">linux configuration</a>
<ul>
<li><a href="#org823c1cf">preamble</a></li>
<li><a href="#org6da05bc">nixos</a>
<ul>
<li><a href="#org890d1a8">lorri</a></li>
</ul>
</li>
<li><a href="#org93ef137">aesthetics</a>
<ul>
<li><a href="#org5685964">theme</a></li>
<li><a href="#org726ab60">default font</a></li>
<li><a href="#orgbcdbf6d">unicode fonts</a></li>
<li><a href="#org61180fc">eyeliner for modeline</a></li>
</ul>
</li>
<li><a href="#orgcbe9fe8">core</a>
<ul>
<li><a href="#orgee86f22">minor modes</a></li>
<li><a href="#org94719f3">backup every save</a></li>
<li><a href="#org35c555c">fix tooltips</a></li>
</ul>
</li>
<li><a href="#org2efad0d">org</a>
<ul>
<li><a href="#org48c7476">look</a></li>
</ul>
</li>
<li><a href="#orgdd8f42e">language support</a>
<ul>
<li><a href="#orgadcce67">python</a></li>
<li><a href="#org3218501">javascript</a></li>
<li><a href="#org25aa551">typescript</a></li>
<li><a href="#org41a196d">f#</a></li>
</ul>
</li>
<li><a href="#orgab75118">helm</a>
<ul>
<li><a href="#org47ac106">theme customizations</a></li>
</ul>
</li>
<li><a href="#org6f619ba">postamble</a></li>
</ul>
</li>
<li><a href="#org887027b">windows configuration</a>
<ul>
<li><a href="#org7ea7a8d">preamble</a></li>
<li><a href="#orgdf58536">theme</a></li>
<li><a href="#orgd1eedb3">postamble</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgd141ecd" class="outline-2">
<h2 id="orgd141ecd">setup</h2>
<div class="outline-text-2" id="text-orgd141ecd">
</div>
<div id="outline-container-org6a746a2" class="outline-3">
<h3 id="org6a746a2">lexical binding</h3>
<div class="outline-text-3" id="text-org6a746a2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; -*- lexical-binding: t -*-
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf4d8554" class="outline-3">
<h3 id="orgf4d8554">straight.el</h3>
<div class="outline-text-3" id="text-orgf4d8554">
<p>
<a href="https://github.com/raxod502/straight.el">straight.el</a> is an alternative to <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Packages.html">package.el</a> with many advantages including the
ability to integrate with <a href="https://github.com/jwiegley/use-package">use-package</a> and installing packages from git or
github.
</p>
</div>

<div id="outline-container-orgee6eea7" class="outline-4">
<h4 id="orgee6eea7">bootstrap</h4>
<div class="outline-text-4" id="text-orgee6eea7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(let ((bootstrap-file (concat user-emacs-directory "straight/repos/straight.el/bootstrap.el"))
      (bootstrap-version 3))
  (unless (file-exists-p bootstrap-file)
    (with-current-buffer
        (url-retrieve-synchronously
         "https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage)
  (setq straight-vc-git-default-clone-depth 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga1ab74a" class="outline-4">
<h4 id="orga1ab74a">use-package integration</h4>
<div class="outline-text-4" id="text-orga1ab74a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq straight-use-package-by-default t)
(straight-use-package 'use-package)
(use-package git) ;; ensure we can install from git sources
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1f9dcb5" class="outline-3">
<h3 id="org1f9dcb5">general dependencies</h3>
<div class="outline-text-3" id="text-org1f9dcb5">
<p>
The following package dependencies are used throughout the rest of the
configuration. They provide contemporary APIs for working with various elisp
data structures.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'cl)
(use-package f :demand t)          ;; files
(use-package dash :demand t)       ;; lists
(use-package ht :demand t)         ;; hash-tables
(use-package s :demand t)          ;; strings
(use-package a :demand t)          ;; association lists
(use-package anaphora :demand t)   ;; anaphora
;; (eval `(use-package ecl :demand t :straight (ecl :type git :local-repo ,(my/project-directory "ecl"))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc454245" class="outline-3">
<h3 id="orgc454245">linux paths</h3>
<div class="outline-text-3" id="text-orgc454245">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (string-equal system-type "gnu/linux")
  (defvar my/home-directory (expand-file-name "~/"))
  (defvar my/data-directory (concat my/home-directory ".emacs.d/"))
  (defvar my/projects-directory (concat my/home-directory "src/"))
  (defvar my/sources-directory (concat my/home-directory "ext/"))
  (defvar my/org-directory (concat my/home-directory "org/"))
  (defvar my/yas-directory (concat my/data-directory "yas/")))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe3ab63" class="outline-3">
<h3 id="orgbe3ab63">windows paths</h3>
<div class="outline-text-3" id="text-orgbe3ab63">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (string-equal system-type "windows-nt")
  (defvar my/home-directory (expand-file-name "b:/"))
  (defvar my/data-directory (concat my/home-directory "Emacs/"))
  (defvar my/projects-directory (concat my/home-directory "Projects/"))
  (defvar my/sources-directory (concat my/home-directory "Sources/"))
  (defvar my/org-directory (concat my/home-directory "Syncthing/Org/"))
  (defvar my/yas-directory (concat my/data-directory "Yas/"))
  (setq linkmarks-file (concat my/org-directory "bookmarks.org")))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgee8436d" class="outline-3">
<h3 id="orgee8436d">utility functions</h3>
<div class="outline-text-3" id="text-orgee8436d">
</div>
<div id="outline-container-org3fd1140" class="outline-4">
<h4 id="org3fd1140">my/org-file-name</h4>
<div class="outline-text-4" id="text-org3fd1140">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/org-file-name (file-name)
  "Create file-name relative to my/org-directory"
  (concat my/org-directory file-name))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge6d13fa" class="outline-4">
<h4 id="orge6d13fa">my/notes-file-name</h4>
<div class="outline-text-4" id="text-orge6d13fa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar my/notes-file-name
  (my/org-file-name "notes.org")
  "Main notes file-name")
</pre>
</div>
</div>
</div>

<div id="outline-container-org4bb905b" class="outline-4">
<h4 id="org4bb905b">my/bookmarks-file-name</h4>
<div class="outline-text-4" id="text-org4bb905b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar my/bookmarks-file-name
  (my/org-file-name "bookmarks.org")
  "Main bookmarks file-name")
</pre>
</div>
</div>
</div>

<div id="outline-container-org2eab02f" class="outline-4">
<h4 id="org2eab02f">my/template-directory</h4>
<div class="outline-text-4" id="text-org2eab02f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default my/template-directory (concat my/org-directory "templates/"))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6065dc" class="outline-4">
<h4 id="orgd6065dc">my/template-file-name</h4>
<div class="outline-text-4" id="text-orgd6065dc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/template-file-name (file-name)
  "Create file-name relative to my/template-directory"
  (concat my/template-directory file-name))
</pre>
</div>
</div>
</div>

<div id="outline-container-org93a7bc4" class="outline-4">
<h4 id="org93a7bc4">my/project-directory</h4>
<div class="outline-text-4" id="text-org93a7bc4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/project-directory (name)
  (concat my/projects-directory name))
</pre>
</div>
</div>
</div>

<div id="outline-container-org02f7c6e" class="outline-4">
<h4 id="org02f7c6e">my/source-directory</h4>
<div class="outline-text-4" id="text-org02f7c6e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/source-directory (name)
  (concat my/sources-directory name))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5e5144c" class="outline-4">
<h4 id="org5e5144c">setup external browser</h4>
<div class="outline-text-4" id="text-org5e5144c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq browse-url-browser-function 'browse-url-chrome)
(setq browse-url-chrome-program "qutebrowser")
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org0862a33" class="outline-2">
<h2 id="org0862a33">aesthetics</h2>
<div class="outline-text-2" id="text-org0862a33">
</div>
<div id="outline-container-org6198110" class="outline-3">
<h3 id="org6198110">vertical border</h3>
<div class="outline-text-3" id="text-org6198110">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-foreground 'vertical-border "gray")
</pre>
</div>
</div>
</div>

<div id="outline-container-org0574c32" class="outline-3">
<h3 id="org0574c32">blend in the fringes</h3>
<div class="outline-text-3" id="text-org0574c32">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute 'fringe nil :background nil)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org44dca0c" class="outline-2">
<h2 id="org44dca0c">core</h2>
<div class="outline-text-2" id="text-org44dca0c">
<p>
The following sections customize core Emacs settings.
</p>
</div>

<div id="outline-container-org19ca0ae" class="outline-3">
<h3 id="org19ca0ae">autosaves</h3>
<div class="outline-text-3" id="text-org19ca0ae">
<p>
Auto-save will periodically save files to backup while you editing. This is
great if something goes catastrophically wrong to Emacs!
</p>
</div>

<div id="outline-container-org880e553" class="outline-4">
<h4 id="org880e553">autosave every buffer that visits a file</h4>
<div class="outline-text-4" id="text-org880e553">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq auto-save-default t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2810a9c" class="outline-4">
<h4 id="org2810a9c">save every 20 secs or 20 keystrokes</h4>
<div class="outline-text-4" id="text-org2810a9c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq auto-save-timeout 20
      auto-save-interval 20)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8848a9d" class="outline-4">
<h4 id="org8848a9d">store autosaves in a single place</h4>
<div class="outline-text-4" id="text-org8848a9d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar emacs-autosave-directory
  (expand-file-name (concat user-emacs-directory "autosaves/")))

(unless (file-exists-p emacs-autosave-directory)
    (make-directory emacs-autosave-directory))

(setq auto-save-file-name-transforms
      `((".*" ,emacs-autosave-directory t)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge4a77fe" class="outline-3">
<h3 id="orge4a77fe">backups</h3>
<div class="outline-text-3" id="text-orge4a77fe">
<p>
Backups are created everytime a buffer is saved. This is really useful
for recovering work that takes place between version-control commits
or on unversioned files.
</p>
</div>

<div id="outline-container-org51a9585" class="outline-4">
<h4 id="org51a9585">store backups with the autosaves</h4>
<div class="outline-text-4" id="text-org51a9585">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (setq backup-directory-alist `(("." . ,emacs-autosave-directory)))
(setq make-backup-files nil)
(setq backup-directory-alist nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7461a65" class="outline-4">
<h4 id="org7461a65">keep 10 backups</h4>
<div class="outline-text-4" id="text-org7461a65">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq kept-new-versions 10
      kept-old-verisons 0)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d0f223" class="outline-4">
<h4 id="org2d0f223">delete old backups</h4>
<div class="outline-text-4" id="text-org2d0f223">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq delete-old-versions t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga3e219f" class="outline-4">
<h4 id="orga3e219f">copy files to avoid various problems</h4>
<div class="outline-text-4" id="text-orga3e219f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq backup-by-copying t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org7591afa" class="outline-4">
<h4 id="org7591afa">backup files even if version controlled</h4>
<div class="outline-text-4" id="text-org7591afa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq vc-make-backup-files t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org30dab46" class="outline-3">
<h3 id="org30dab46">cursor</h3>
<div class="outline-text-3" id="text-org30dab46">
</div>
<div id="outline-container-orge4f5c4c" class="outline-4">
<h4 id="orge4f5c4c">box style</h4>
<div class="outline-text-4" id="text-orge4f5c4c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default cursor-type 'box)
</pre>
</div>
</div>
</div>

<div id="outline-container-org44b392d" class="outline-4">
<h4 id="org44b392d">blinking</h4>
<div class="outline-text-4" id="text-org44b392d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(blink-cursor-mode 1)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc51b5d9" class="outline-3">
<h3 id="orgc51b5d9">disable</h3>
<div class="outline-text-3" id="text-orgc51b5d9">
<p>
Turn off various UI features to achieve a minimal, distraction free
experience. Additionally, all configuration should live inside
version-controlled files so the Emacs customizations file is also disabled.
</p>
</div>

<div id="outline-container-orge27f6f1" class="outline-4">
<h4 id="orge27f6f1">menubar</h4>
<div class="outline-text-4" id="text-orge27f6f1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(menu-bar-mode -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga446569" class="outline-4">
<h4 id="orga446569">toolbar</h4>
<div class="outline-text-4" id="text-orga446569">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(tool-bar-mode -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org245e6c5" class="outline-4">
<h4 id="org245e6c5">scrollbar</h4>
<div class="outline-text-4" id="text-org245e6c5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(scroll-bar-mode -1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8246eb" class="outline-4">
<h4 id="orgd8246eb">startup message</h4>
<div class="outline-text-4" id="text-orgd8246eb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq inhibit-startup-message t
      initial-scratch-message nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga931bb2" class="outline-4">
<h4 id="orga931bb2">customizations file</h4>
<div class="outline-text-4" id="text-orga931bb2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq custom-file (make-temp-file ""))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org74dab31" class="outline-3">
<h3 id="org74dab31">editing</h3>
<div class="outline-text-3" id="text-org74dab31">
</div>
<div id="outline-container-orgab6638e" class="outline-4">
<h4 id="orgab6638e">use spaces</h4>
<div class="outline-text-4" id="text-orgab6638e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default indent-tabs-mode nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5af58fd" class="outline-4">
<h4 id="org5af58fd">visual fill-column</h4>
<div class="outline-text-4" id="text-org5af58fd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package visual-fill-column
  :config (global-visual-fill-column-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org88ed190" class="outline-4">
<h4 id="org88ed190">fill at 79</h4>
<div class="outline-text-4" id="text-org88ed190">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default fill-column 79)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4b1127e" class="outline-4">
<h4 id="org4b1127e">autofill text-mode</h4>
<div class="outline-text-4" id="text-org4b1127e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'text-mode-hook 'turn-on-auto-fill)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb30101c" class="outline-4">
<h4 id="orgb30101c">ssh for tramp</h4>
<div class="outline-text-4" id="text-orgb30101c">
<p>
Default method for transferring files with Tramp.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(setq tramp-default-method "ssh")
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4f67325" class="outline-3">
<h3 id="org4f67325">key-bindings</h3>
<div class="outline-text-3" id="text-org4f67325">
</div>
<div id="outline-container-orge0d128e" class="outline-4">
<h4 id="orge0d128e">meta n &amp; p</h4>
<div class="outline-text-4" id="text-orge0d128e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "M-p") 'backward-paragraph)
(global-set-key (kbd "M-n") 'forward-paragraph)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8805d1c" class="outline-3">
<h3 id="org8805d1c">minor-modes</h3>
<div class="outline-text-3" id="text-org8805d1c">
</div>
<div id="outline-container-org06da18a" class="outline-4">
<h4 id="org06da18a">whitespace-mode</h4>
<div class="outline-text-4" id="text-org06da18a">
<p>
Visually displays trailing whitespace.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package whitespace
  :diminish global-whitespace-mode
  :init
  (setq whitespace-style
        '(face tabs newline trailing tab-mark space-before-tab space-after-tab))
  (global-whitespace-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1daecb6" class="outline-4">
<h4 id="org1daecb6">prettify-symbols-mode</h4>
<div class="outline-text-4" id="text-org1daecb6">
<p>
Various symbols will be replaced with nice looking unicode glyphs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(global-prettify-symbols-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org111a842" class="outline-4">
<h4 id="org111a842">electric-pair-mode</h4>
<div class="outline-text-4" id="text-org111a842">
<p>
Matching closed brackets are inserted for any typed open bracket.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(electric-pair-mode 1)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc38235" class="outline-4">
<h4 id="orgdc38235">rainbow-delimeters-mode</h4>
<div class="outline-text-4" id="text-orgdc38235">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'color)
(defun gen-col-list (length s v &amp;optional hval)
  (cl-flet ( (random-float () (/ (random 10000000000) 10000000000.0))
          (mod-float (f) (- f (ffloor f))) )
    (unless hval
      (setq hval (random-float)))
    (let ((golden-ratio-conjugate (/ (- (sqrt 5) 1) 2))
          (h hval)
          (current length)
          (ret-list '()))
      (while (&gt; current 0)
        (setq ret-list
              (append ret-list
                      (list (apply 'color-rgb-to-hex (color-hsl-to-rgb h s v)))))
        (setq h (mod-float (+ h golden-ratio-conjugate)))
        (setq current (- current 1)))
      ret-list)))

(defun set-random-rainbow-colors (s l &amp;optional h)
  ;; Output into message buffer in case you get a scheme you REALLY like.
  ;; (message "set-random-rainbow-colors %s" (list s l h))
  (interactive)
  (rainbow-delimiters-mode t)

  ;; Show mismatched braces in bright red.
  (set-face-background 'rainbow-delimiters-unmatched-face "red")

  ;; Rainbow delimiters based on golden ratio
  (let ( (colors (gen-col-list 9 s l h))
         (i 1) )
    (let ( (length (length colors)) )
      ;;(message (concat "i " (number-to-string i) " length " (number-to-string length)))
      (while (&lt;= i length)
        (let ( (rainbow-var-name (concat "rainbow-delimiters-depth-" (number-to-string i) "-face"))
               (col (nth i colors)) )
          ;; (message (concat rainbow-var-name " =&gt; " col))
          (set-face-foreground (intern rainbow-var-name) col))
        (setq i (+ i 1))))))

(use-package rainbow-delimiters :commands rainbow-delimiters-mode :hook ...
  :init
  (setq rainbow-delimiters-max-face-count 16)
  (set-random-rainbow-colors 0.6 0.7 0.5)
  (add-hook 'prog-mode-hook 'rainbow-delimiters-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga383f5b" class="outline-4">
<h4 id="orga383f5b">show-paren-mode</h4>
<div class="outline-text-4" id="text-orga383f5b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(show-paren-mode 1)
(setq show-paren-delay 0)
(require 'paren)
(set-face-background 'show-paren-match nil)
(set-face-background 'show-paren-mismatch nil)
(set-face-foreground 'show-paren-match "#ff0")
(set-face-foreground 'show-paren-mismatch "#f00")
(set-face-attribute 'show-paren-match nil :weight 'extra-bold)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0bf7e1" class="outline-4">
<h4 id="orgc0bf7e1">which-key-mode</h4>
<div class="outline-text-4" id="text-orgc0bf7e1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package which-key
  :diminish which-key-mode
  :config
  ;; sort single chars alphabetically P p Q q
  (setq which-key-sort-order 'which-key-key-order-alpha)
  (setq which-key-idle-delay 0.8)
  (which-key-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org65ed525" class="outline-4">
<h4 id="org65ed525">company-mode</h4>
<div class="outline-text-4" id="text-org65ed525">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company
  :config (add-hook 'after-init-hook 'global-company-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org170b769" class="outline-3">
<h3 id="org170b769">shorten prompts</h3>
<div class="outline-text-3" id="text-org170b769">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(fset 'yes-or-no-p 'y-or-n-p)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc8a9dd" class="outline-3">
<h3 id="orgbc8a9dd">debug on error</h3>
<div class="outline-text-3" id="text-orgbc8a9dd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq debug-on-error t)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3198a73" class="outline-2">
<h2 id="org3198a73">helpful</h2>
<div class="outline-text-2" id="text-org3198a73">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helpful :straight (helpful :type git :host github :repo "Wilfred/helpful"))

(use-package helpful
    :straight (helpful :type git :host github :repo "Wilfred/helpful")
    :bind (("C-h f" . #'helpful-callable)
           ("C-h v" . #'helpful-variable)
           ("C-h k" . #'helpful-key)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5fdce6a" class="outline-2">
<h2 id="org5fdce6a">deflayer</h2>
<div class="outline-text-2" id="text-org5fdce6a">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package deflayer
  :straight (deflayer :type git :host github :repo "dustinlacewell/deflayer.el"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5003d44" class="outline-2">
<h2 id="org5003d44">polymode</h2>
<div class="outline-text-2" id="text-org5003d44">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package polymode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae1d2c9" class="outline-2">
<h2 id="orgae1d2c9">org-mode</h2>
<div class="outline-text-2" id="text-orgae1d2c9">
</div>
<div id="outline-container-orgd92d041" class="outline-3">
<h3 id="orgd92d041">straight.el fixes</h3>
<div class="outline-text-3" id="text-orgd92d041">
<p>
There are some issues with straight.el and org. These the following boilerplate
fixes all that until <a href="https://github.com/raxod502/straight.el#installing-org-with-straightel">that is resolved</a>.
</p>
</div>

<div id="outline-container-org76b5448" class="outline-4">
<h4 id="org76b5448">fix-org-git-version</h4>
<div class="outline-text-4" id="text-org76b5448">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun fix-org-git-version ()
  "The Git version of org-mode.
  Inserted by installing org-mode or when a release is made."
  (require 'git)
  (let ((git-repo (expand-file-name
                   "straight/repos/org/" user-emacs-directory)))
    (string-trim
     (git-run "describe"
              "--match=release\*"
              "--abbrev=6"
              "HEAD"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcd3dbc" class="outline-4">
<h4 id="orgdcd3dbc">fix-org-release</h4>
<div class="outline-text-4" id="text-orgdcd3dbc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun fix-org-release ()
  "The release version of org-mode.
  Inserted by installing org-mode or when a release is made."
  (require 'git)
  (let ((git-repo (expand-file-name
                   "straight/repos/org/" user-emacs-directory)))
    (string-trim
     (string-remove-prefix
      "release_"
      (git-run "describe"
               "--match=release\*"
               "--abbrev=0"
               "HEAD")))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7d879d6" class="outline-3">
<h3 id="org7d879d6">installation</h3>
<div class="outline-text-3" id="text-org7d879d6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org
  :demand t
  :mode ("\\.org\\'" . org-mode)
  :config
  ;; these depend on the 'straight.el fixes' above
  (defalias #'org-git-version #'fix-org-git-version)
  (defalias #'org-release #'fix-org-release)
  (require 'org-habit)
  (require 'org-capture)
  (require 'org-tempo))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb4f88c" class="outline-3">
<h3 id="orgbb4f88c">security</h3>
<div class="outline-text-3" id="text-orgbb4f88c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(progn
  (setq org-confirm-babel-evaluate nil)
  (setq org-confirm-elisp-link-function nil)
  (setq org-confirm-shell-link-function nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-org38b58c1" class="outline-3">
<h3 id="org38b58c1">look</h3>
<div class="outline-text-3" id="text-org38b58c1">
<p>
The following sections change how Org-mode documents look.
</p>
</div>

<div id="outline-container-orgf12669d" class="outline-4">
<h4 id="orgf12669d">indent by header level</h4>
<div class="outline-text-4" id="text-orgf12669d">
<p>
Hide the heading asterisks. Instead indent headings based on depth.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (add-hook 'org-mode-hook #'org-indent-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f332ab" class="outline-4">
<h4 id="org4f332ab">pretty heading bullets</h4>
<div class="outline-text-4" id="text-org4f332ab">
<p>
Use nice unicode bullets instead of the default asterisks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-bullets
  :after (org)
  :config
  (add-hook 'org-mode-hook 'org-bullets-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org3195c74" class="outline-4">
<h4 id="org3195c74">pretty priority cookies</h4>
<div class="outline-text-4" id="text-org3195c74">
<p>
Instead of the default <code>[#A]</code> and <code>[#C]</code> priority cookies, use little unicode arrows to
indicate high and low priority. <code>[#B]</code>, which is the same as no priority, is shown as
normal.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(with-eval-after-load 'org
  (defun nougat/org-pretty-compose-p (start end match)
    (if (or (string= match "[#A]") (string= match "[#C]"))
        ;; prettify asterisks in headings
        (org-match-line org-outline-regexp-bol)
      ;; else rely on the default function
      (funcall #'prettify-symbols-default-compose-p start end match)))

  (global-prettify-symbols-mode)

  (add-hook
   'org-mode-hook
   (lambda ()
     (setq-local prettify-symbols-compose-predicate #'nougat/org-pretty-compose-p)
     (setq-local prettify-symbols-alist
                 (todo-prettify-symbols-alist todo-keywords)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd13b1b" class="outline-4">
<h4 id="orgdd13b1b">pretty heading ellipsis</h4>
<div class="outline-text-4" id="text-orgdd13b1b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (setq org-ellipsis " â–¿"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org295e8ad" class="outline-4">
<h4 id="org295e8ad">dynamic tag position</h4>
<div class="outline-text-4" id="text-org295e8ad">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun org-realign-tags ()
  (interactive)
  (setq org-tags-column (- 0 (window-width)))
  (org-align-tags t))

(add-hook 'window-configuration-change-hook 'org-realign-tags)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7bcc6b1" class="outline-3">
<h3 id="org7bcc6b1">feel</h3>
<div class="outline-text-3" id="text-org7bcc6b1">
<p>
The following sections change how it feels to use Org-mode.
</p>
</div>

<div id="outline-container-orgd3e85ee" class="outline-4">
<h4 id="orgd3e85ee">don't fold blocks on open</h4>
<div class="outline-text-4" id="text-orgd3e85ee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (setq org-hide-block-startup nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-org69674f7" class="outline-4">
<h4 id="org69674f7">auto-fill paragraphs</h4>
<div class="outline-text-4" id="text-org69674f7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (add-hook 'org-mode-hook 'turn-on-auto-fill))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8467ad0" class="outline-4">
<h4 id="org8467ad0">respect content on heading insert</h4>
<div class="outline-text-4" id="text-org8467ad0">
<p>
If you try to insert a heading in the middle of an entry, don't split it in half, but
instead insert the new heading after the end of the current entry.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (setq org-insert-heading-respect-content nil))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd02a912" class="outline-4">
<h4 id="orgd02a912">ensure one-line between headers</h4>
<div class="outline-text-4" id="text-orgd02a912">
<p>
When you save, this section will ensure that there is a one-line space between each
heading. This helps with the background color of code-blocks not showing up on folded
headings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (defun my/org-no-line-before-headlines ()
;;   (beginning-of-buffer)
;;   (while (re-search-forward "\n\\{3,\\}\\*" nil t)
;;     (replace-match "\n\n*")))

;; (defun my/org-one-line-after-headlines ()
;;   (beginning-of-buffer)
;;   (while (re-search-forward "^\\*+.*\n\\{2,\\}" nil t)
;;     (outline-previous-heading)
;;     (end-of-line)
;;     (forward-char)
;;     (while (looking-at "^[:space:]*$")
;;       (kill-line))))

;; (defun my/org-trim-headlines ()
;;   (let ((markers nil))
;;     (org-element-map (org-element-parse-buffer) '(headline)
;;       (lambda (paragraph)
;;         (let ((contents-end (org-element-property :contents-end paragraph))
;;               (post-blank (org-element-property :post-blank paragraph))
;;               (marker (make-marker)))
;;           (goto-char contents-end)
;;           (unless (eq 0 post-blank)
;;             (set-marker marker contents-end)
;;             (setq markers (append markers (list (cons marker post-blank))))))))
;;     (--each markers (save-excursion
;;                       (goto-char (car it))
;;                       (kill-line (- (cdr it) 1))))))

;; (defun my/org-element-type-at-point ()
;;   (car (org-element-at-point)))

;; (defun my/org-point-at-headline ()
;;   (let* ((element-type (my/org-element-type-at-point)))
;;     (eq 'headline element-type)))

;; (defun my/org-mark-elements (data types marker-prop &amp;rest props)
;;   (let ((markers nil))
;;     (org-element-map data types
;;       (lambda (element)
;;         (let* ((marker (make-marker))
;;                (marker-pos (org-element-property marker-prop element))
;;                (prop-map (make-hash-table)))
;;           (when marker-pos
;;             (set-marker marker marker-pos)
;;             (--each props (map-put! prop-map it (org-element-property it element)))
;;             (setq markers (append markers (list (cons marker prop-map))))))))

;;     markers))

;; (defun my/org-visit-markers (markers)
;;   (--each markers
;;     (goto-char (car it))
;;     (sit-for 1)))

;; (defun my/org-visit-elements (types &amp;optional data)
;;   (setq data (or data (org-element-parse-buffer)))
;;   (my/org-visit-markers (my/org-mark-elements data types :begin)))

;; (defun my/org-trim-headlines ()
;;   (save-excursion
;;     (--each (my/org-mark-elements (org-element-parse-buffer) '(headline) :begin :pre-blank)
;;       (let* ((prop-map (cdr it))
;;              (pre-blank (map-elt prop-map :pre-blank)))
;;         (when (&gt; pre-blank 1)
;;           (goto-char (car it))
;;           (end-of-line)
;;           (forward-char)
;;           (sit-for 1)
;;           (kill-line (max 0 pre-blank)))))))

;; (defun my/org-trim-paragraphs ()
;;   (save-excursion
;;     (--each (my/org-mark-elements (org-element-parse-buffer) '(paragraph section src-block) :contents-end :post-blank)
;;       (let* ((prop-map (cdr it))
;;              (post-blank (map-elt prop-map :post-blank)))
;;         (if (&gt; post-blank 1)
;;             (progn (goto-char (car it))
;;              (sit-for 1)
;;              (kill-line (max 0 (- post-blank 1))))
;;           (when (eq 0 post-blank)
;;             (goto-char (car it))
;;             (end-of-line)
;;             (forward-char)
;;             (open-line 1)))))))

;; (defun my/org-cleanup ()
;;   (interactive)
;;   (my/org-trim-headlines)
;;   (my/org-trim-paragraphs))


;; (with-eval-after-load 'org
;;   (add-hook
;;    'org-mode-hook
;;    (lambda () (add-hook
;;           'before-save-hook
;;           'my/org-cleanup
;;           nil 'make-it-local))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb4d457" class="outline-4">
<h4 id="orgeb4d457">initial visibility</h4>
<div class="outline-text-4" id="text-orgeb4d457">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-startup-folded 'content)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org98209d6" class="outline-3">
<h3 id="org98209d6">todo states</h3>
<div class="outline-text-3" id="text-org98209d6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq todo-keywords
      ;; normal workflow
      '((("DOING" "d"
          :icon "ðŸƒ"
          :face org-doing-face)

         ("TODO" "t"
          :icon "â€¦â€„"
          :face org-todo-face)

         ("DONE" "D"
          :icon "âœ“â€„"
          :face org-done-face
          :done-state t))

        ;; auxillary states
        (("SOON" "s"
          :icon "â—â€€"
          :face org-soon-face)

         ("SOMEDAY" "S"
          :icon "ðŸ›Œ"
          :face org-doing-face))))


;; parsing

(defun todo-make-state-model (name key props)
  (append (list :name name :key key) props))

(defun todo-parse-state-data (state-data)
  (-let* (((name second &amp;rest) state-data)
          ((key props) (if (stringp second)
                           (list second (cddr state-data))
                         (list nil (cdr state-data)))))
    (todo-make-state-model name key props)))

(defun todo-make-sequence-model (states)
  (mapcar 'todo-parse-state-data states))

(defun todo-parse-sequences-data (sequences-data)
  (mapcar 'todo-make-sequence-model sequences-data))


;; org-todo-keywords

(defun todo-keyword-name (name key)
  (if key (format "%s(%s)" name key) name))

(defun todo-keyword-name-for-state (state)
  (todo-keyword-name (plist-get state :name)
                     (plist-get state :key)))

(defun todo-is-done-state (state)
  (equal t (plist-get state :done-state)))

(defun todo-is-not-done-state (state)
  (equal nil (plist-get state :done-state)))

(defun todo-org-sequence (states)
  (let ((active (seq-filter 'todo-is-not-done-state states))
        (inactive (seq-filter 'todo-is-done-state states)))
    (append '(sequence)
            (mapcar 'todo-keyword-name-for-state active)
            '("|")
            (mapcar 'todo-keyword-name-for-state inactive))))

(defun todo-org-todo-keywords (sequences)
  (mapcar 'todo-org-sequence (todo-parse-sequences-data sequences)))
;; (todo-org-todo-keywords todo-keywords)


(with-eval-after-load 'org
  (setq org-todo-keywords (todo-org-todo-keywords todo-keywords)))


(defun todo-org-todo-keyword-faces (sequences)
  (cl-loop for sequence in (todo-parse-sequences-data sequences)
           append (cl-loop for state in sequence
                           for name = (plist-get state :name)
                           for face = (plist-get state :face)
                           collect (cons name face))))
;; (todo-org-todo-keyword-faces todo-keywords)

(with-eval-after-load 'org
  (setq org-todo-keyword-faces (todo-org-todo-keyword-faces todo-keywords)))

(defun todo-prettify-symbols-alist (sequences)
  (cl-loop for sequence in (todo-parse-sequences-data sequences)
           append (cl-loop for state in sequence
                           for name = (plist-get state :name)
                           for icon = (plist-get state :icon)
                           collect (cons name icon))))
;; (todo-prettify-symbols-alist todo-keywords)

(defun todo-finalize-agenda-for-state (state)
  (-let (((&amp;plist :name :icon :face) state))
    (beginning-of-buffer)
    (while (search-forward name nil 1)
      (let* ((line-props (text-properties-at (point)))
             (line-props (ecl-plist-remove line-props 'face)))
        (call-interactively 'set-mark-command)
        (search-backward name)
        (call-interactively 'kill-region)
        (let ((symbol-pos (point)))
          (insert icon)
          (beginning-of-line)
          (let ((start (point))
                (end (progn (end-of-line) (point))))
            (add-text-properties start end line-props)
            (add-face-text-property symbol-pos (+ 1 symbol-pos) face))))))
  (beginning-of-buffer)
  (replace-regexp "[[:space:]]+[=]+" ""))

(defun todo-finalize-agenda ()
  (--each (todo-parse-sequences-data todo-keywords)
    (-each it 'todo-finalize-agenda-for-state)))

(add-hook 'org-agenda-finalize-hook 'todo-finalize-agenda)
</pre>
</div>
</div>
</div>

<div id="outline-container-org139a3eb" class="outline-3">
<h3 id="org139a3eb">poly-org</h3>
<div class="outline-text-3" id="text-org139a3eb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (use-package poly-org)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4aaa6f4" class="outline-3">
<h3 id="org4aaa6f4">org-modules</h3>
<div class="outline-text-3" id="text-org4aaa6f4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ebdb2d" class="outline-3">
<h3 id="org8ebdb2d">org-babel</h3>
<div class="outline-text-3" id="text-org8ebdb2d">
</div>
<div id="outline-container-org60551f4" class="outline-4">
<h4 id="org60551f4">add languages to babel</h4>
<div class="outline-text-4" id="text-org60551f4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (org-babel-do-load-languages
   'org-babel-load-languages
   '((shell . t)
     (emacs-lisp . t))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org793d23e" class="outline-4">
<h4 id="org793d23e">set default header args</h4>
<div class="outline-text-4" id="text-org793d23e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (setq org-babel-default-header-args
        '((:session . "none")
          (:results . "silent")
          (:exports . "code")
          (:cache . "no")
          (:noweb . "no")
          (:hlines . "no")
          (:tangle . "no"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae13a2b" class="outline-4">
<h4 id="orgae13a2b">disable code evaluation prompts</h4>
<div class="outline-text-4" id="text-orgae13a2b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (setq org-confirm-babel-evaluate nil)
  (setq org-confirm-shell-link-function nil)
  (setq org-confirm-elisp-link-function nil))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbeb64aa" class="outline-3">
<h3 id="orgbeb64aa">org-helm</h3>
<div class="outline-text-3" id="text-orgbeb64aa">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helm-org)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4709988" class="outline-3">
<h3 id="org4709988">org-projectile</h3>
<div class="outline-text-3" id="text-org4709988">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-projectile
  :config
  (progn
    (org-projectile-per-project)
    (setq org-projectile-per-project-filepath "notes.org")
    (add-to-list 'org-capture-templates
                 (org-projectile-project-todo-entry
                  :capture-character "l"
                  :capture-heading "Linked Project TODO"))
    (add-to-list 'org-capture-templates
                 (org-projectile-project-todo-entry
                  :capture-character "p"))
    (setq org-confirm-elisp-link-function nil)))

(use-package org-projectile-helm
  :after org-projectile
  :bind (("C-c n p" . org-projectile-helm-template-or-project)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7d83928" class="outline-3">
<h3 id="org7d83928">org-capture</h3>
<div class="outline-text-3" id="text-org7d83928">
</div>
<div id="outline-container-org7991079" class="outline-4">
<h4 id="org7991079">set default notes file</h4>
<div class="outline-text-4" id="text-org7991079">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (setq org-default-notes-file (my/org-file-name "inbox.org")))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5ec4c1b" class="outline-4">
<h4 id="org5ec4c1b">bind a key for capture</h4>
<div class="outline-text-4" id="text-org5ec4c1b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (global-set-key (kbd "C-c c") 'org-capture))
</pre>
</div>
</div>
</div>

<div id="outline-container-org457bfb4" class="outline-4">
<h4 id="org457bfb4">automatically visit new capture</h4>
<div class="outline-text-4" id="text-org457bfb4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'org
  (add-to-list 'org-capture-after-finalize-hook 'org-capture-goto-last-stored))
</pre>
</div>
</div>
</div>

<div id="outline-container-org452dfca" class="outline-4">
<h4 id="org452dfca">capture templates</h4>
<div class="outline-text-4" id="text-org452dfca">
<div class="org-src-container">
<pre class="src src-emacs-lisp">
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfd650d4" class="outline-3">
<h3 id="orgfd650d4">org-agenda</h3>
<div class="outline-text-3" id="text-orgfd650d4">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-directory my/org-directory
      org-agenda-todo-keyword-format ""
      org-agenda-prefix-format '((todo . "  %(org-get-todo-state)"))
      org-agenda-files (-filter 'f-exists? (append
                                            (f-glob (my/org-file-name "*.org"))
                                            (f-glob (my/project-directory "*/*.org"))
                                            (f-glob (my/source-directory "*/*.org")))))

(eval `(use-package org-super-agenda
         ;; :straight (org-super-agenda
         ;;            :local-repo ,(my/source-directory "org-super-agenda"))
         :config (org-super-agenda-mode)))

(defun org-agenda-transformer (it)
  (-let* (((blank todo rest) (s-split-up-to
                              "[[:blank:]]+"
                              (substring-no-properties it) 2))
          (project-name (-&gt;&gt; it
                             (get-text-property 0 'org-marker)
                             (marker-buffer)
                             (buffer-file-name)
                             (f-parent)
                             (f-base)))
          it)
    (format "  %s %s / %s" todo project-name rest)))

(setq org-agenda-custom-commands
      (list
       (quote
        ("a" "agenda view"
         ((agenda "" ((org-agenda-span 'day)
                      (org-super-agenda-groups
                       '((:name "Today"
                                :time-grid t
                                :date today
                                :todo "TODAY"
                                :scheduled today
                                :order 1)))))
          (alltodo "" ((org-agenda-overriding-header "")
                       (org-super-agenda-groups
                        '((:name "Active"
                                 :todo "DOING"
                                 :order 1
                                 :transformer (org-agenda-transformer it))
                          (:name "Important"
                                 :tag "Important"
                                 :priority "A"
                                 :order 6)
                          (:name "Due Today"
                                 :deadline today
                                 :order 2)
                          (:name "Overdue"
                                 :deadline past
                                 :order 7)
                          (:name "Assignments"
                                 :tag "Assignment"
                                 :order 10)
                          (:name "Issues"
                                 :tag "Issue"
                                 :order 12)
                          (:name "Done"
                                 :todo "DONE")
                          (:discard (:anything t))))))

          (alltodo "" ((org-agenda-overriding-header "")
                       (org-super-agenda-groups
                        '((:auto-group-map
                           (lambda (item)
                             (-when-let* ((marker (or (get-text-property 0 'org-marker item)
                                                      (get-text-property 0 'org-hd-marker item)))
                                          (file-path (-&gt;&gt; marker marker-buffer buffer-file-name))
                                          (parent (f-dirname file-path))
                                          (type (f-dirname parent)))
                               (when (equal "src" (f-filename type))
                                 (f-filename parent)))))
                          (:discard (:anything t))))))
          (alltodo "" ((org-agenda-overriding-header "")
                       (org-super-agenda-groups
                        '((:auto-group-map
                           (lambda (item)
                             (if (-contains? (get-text-property 0 'tags item) "mine")
                                 (-when-let* ((marker (or (get-text-property 0 'org-marker item)
                                                          (get-text-property 0 'org-hd-marker item)))
                                              (file-path (-&gt;&gt; marker marker-buffer buffer-file-name))
                                              (parent (f-dirname file-path))
                                              (type (f-dirname parent)))
                                   ;; TODO this wont work on windows, use variables
                                   (when (equal "ext" (f-filename type))
                                     (f-filename parent))))))
                          (:discard (:anything t)))))))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org50ad76d" class="outline-3">
<h3 id="org50ad76d">org-fragtog</h3>
<div class="outline-text-3" id="text-org50ad76d">
<p>
Automatic LaTex fragment previews in org-mode.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-fragtog
  :config
  (add-hook 'org-mode-hook 'org-fragtog-mode))
</pre>
</div>
</div>
</div>
<div id="outline-container-org354843f" class="outline-3">
<h3 id="org354843f">linkmarks</h3>
<div class="outline-text-3" id="text-org354843f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(eval `(use-package linkmarks
         :straight (linkmarks :type git :host github :repo "dustinlacewell/linkmarks")
         ;; :straight (linkmarks :type git :local-repo ,(my/project-directory "linkmarks/") :files ("linkmarks.el"))
         ))
</pre>
</div>
</div>
</div>

<div id="outline-container-org20e6d9e" class="outline-3">
<h3 id="org20e6d9e">outshine</h3>
<div class="outline-text-3" id="text-org20e6d9e">
<p>
Outshine provides org-mode like functionality in other files like elisp source.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package outshine
  :init (defvar outline-minor-mode-prefix "\M-#")
  :config (setq outshine-use-speed-commands t)
  :hook ((emacs-lisp-mode . outshine-mode) (nix-mode . outshine-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9ec431" class="outline-3">
<h3 id="orga9ec431">org-ql</h3>
<div class="outline-text-3" id="text-orga9ec431">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (eval `(use-package org-ql
;;          :demand t
;;          :straight (org-ql :type git :host github :repo "dustinlacewell/org-ql")
;;          ;; :straight (org-ql :type git :local-repo ,(my/source-directory "org-ql"))
;;          ))

(eval `(use-package org-olp
         :demand t
         :straight (org-olp :type git :host github :repo "dustinlacewell/org-olp")
         ;; :straight (org-olp :type git :local-repo ,(my/project-directory "org-olp"))
         ))

(defun get-candidates (filename query)
  ;; (let* ((headlines (eval `(org-ql ,filename ,query)))
  ;;        (items (--map (plist-get it 'headline) headlines))
  ;;        (items (--sort (&lt; (plist-get it :begin)
  ;;                          (plist-get other :begin)) items)))
  ;;   (cl-loop for item in items
  ;;            for olp = (with-temp-buffer
  ;;                        (insert-file-contents filename)
  ;;                        (org-mode)
  ;;                        (goto-char (plist-get item :begin))
  ;;                        (org-get-outline-path t))
  ;;            for label = (string-join olp " / ")
  ;;            collect (list label item)))
  )

;; (get-candidates (my/org-file-name "notes.org") '(todo "TODO"))

(defun select-candidate (filename query)
  ;; (let* ((candidates (get-candidates filename query)))
  ;;   (car (helm :sources
  ;;              (helm-build-sync-source "active-todos"
  ;;                :candidates candidates
  ;;                :fuzzy-match t))))
  )

;; (select-candidate (my/org-file-name "notes.org") '(todo "TODO"))

(defun visit-candidate (filename query)
  ;; (let ((selection (select-candidate filename query)))
  ;;   (find-file filename)
  ;;   (goto-char (plist-get selection :begin))
  ;;   (beginning-of-line)
  ;;   (call-interactively 'org-shifttab)
  ;;   (call-interactively 'org-cycle))
  )

;; (visit-candidate my/notes-file-name '(todo))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf89a396" class="outline-3">
<h3 id="orgf89a396">i-read-this</h3>
<div class="outline-text-3" id="text-orgf89a396">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun i-read-this ()
  (interactive)
  (org-entry-add-to-multivalued-property nil "readby" user-login-name))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd16aa71" class="outline-3">
<h3 id="orgd16aa71">don't prompt to confirm not prompting to confirm</h3>
<div class="outline-text-3" id="text-orgd16aa71">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq safe-local-variable-values '((org-confirm-elisp-link-function . nil)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5c6d890" class="outline-2">
<h2 id="org5c6d890">projectile</h2>
<div class="outline-text-2" id="text-org5c6d890">
<p>
<a href="https://github.com/bbatsov/projectile">Projectile</a> offers a number of features related to project interaction. It can
track the root directories and sibling files of files you edit
automatically. Combined with Helm, you can very quickly navigate related files.
</p>

<p>
Projectile's default prefix is <code>C-c p</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package projectile
  :config
  (setq projectile-enable-caching t)
  (projectile-mode t))
</pre>
</div>
</div>

<div id="outline-container-orga3f4f32" class="outline-3">
<h3 id="orga3f4f32">project discovery</h3>
<div class="outline-text-3" id="text-orga3f4f32">
<p>
Customize <code>nougat-project-root</code> to set the location of the majority of your
projects/repositories.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(projectile-discover-projects-in-directory
 (file-name-as-directory my/projects-directory))
(projectile-discover-projects-in-directory
 (file-name-as-directory my/sources-directory))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5e07503" class="outline-2">
<h2 id="org5e07503">helm</h2>
<div class="outline-text-2" id="text-org5e07503">
<p>
Helm is a fast completion/selection framework for Emacs. It pops up a buffer with
choices which you narrows by fuzzy search. This can be used for finding files,
switching buffers, etc.
</p>

<p>
The following keys are bound by default:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">default key</th>
<th scope="col" class="org-left">override symbol</th>
<th scope="col" class="org-left">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">M-x</td>
<td class="org-left">kbd-helm-M-x</td>
<td class="org-left">execute commands</td>
</tr>

<tr>
<td class="org-left">C-h f</td>
<td class="org-left">kbd-helm-apropos</td>
<td class="org-left">get help for any symbol</td>
</tr>

<tr>
<td class="org-left">C-x C-f</td>
<td class="org-left">kbd-helm-find-files</td>
<td class="org-left">find files</td>
</tr>

<tr>
<td class="org-left">C-c y</td>
<td class="org-left">kbd-helm-show-kill-ring</td>
<td class="org-left">view kill ring history</td>
</tr>

<tr>
<td class="org-left">C-x C-r</td>
<td class="org-left">kbd-helm-recentf</td>
<td class="org-left">open recently viewed files</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helm
  :config
  (helm-mode 1)
  (require 'helm-config)

  (global-set-key (kbd "M-x") 'helm-M-x)
  (global-set-key (kbd "C-h f") 'helm-apropos)
  (global-set-key (kbd "C-x C-f") 'helm-find-files)
  (global-set-key (kbd "C-x b") 'helm-mini)
  (global-set-key (kbd "C-c y") 'helm-show-kill-ring)
  (global-set-key (kbd "C-x C-r") 'helm-recentf))
</pre>
</div>
</div>

<div id="outline-container-orgaca1471" class="outline-3">
<h3 id="orgaca1471">ace-jump-helm-line</h3>
<div class="outline-text-3" id="text-orgaca1471">
<p>
Use (<code>M-;</code> / <code>kbd-helm-ace-jump</code>) to show a unique letter combination next to each Helm
candidate. Pressing a combination instantly selects that candidate.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(with-eval-after-load 'helm
  (use-package ace-jump-helm-line
    :commands ace-jump-helm-line
    :config (define-key helm-map
            (kbd "M-;")
            'ace-jump-helm-line)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org83f9c5f" class="outline-3">
<h3 id="org83f9c5f">helm-bookmarks</h3>
<div class="outline-text-3" id="text-org83f9c5f">
<p>
Use (<code>C-x C-b</code> / <code>kbd-helm-bookmarks</code>) to manage bookmarks with Helm.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(with-eval-after-load 'helm
  (require 'helm-bookmark)
  (global-set-key (kbd "C-x C-b") 'helm-bookmark))
</pre>
</div>
</div>
</div>

<div id="outline-container-org71ee17c" class="outline-3">
<h3 id="org71ee17c">helm-ag</h3>
<div class="outline-text-3" id="text-org71ee17c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package helm-ag)
</pre>
</div>
</div>
</div>

<div id="outline-container-orge71932a" class="outline-3">
<h3 id="orge71932a">helm-descbinds</h3>
<div class="outline-text-3" id="text-orge71932a">
<p>
Use (<code>C-h b</code> / <code>kbd-helm-descbinds</code>) to inspect current bindings with Helm.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package helm-descbinds
  :after (helm)
  :commands helm-descbinds
  :config
  (global-set-key (kbd "C-h b") 'helm-descbinds))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7986f69" class="outline-3">
<h3 id="org7986f69">helm-flyspell</h3>
<div class="outline-text-3" id="text-org7986f69">
<p>
With <code>flyspell-mode</code> on, use (<code>C-;</code> / <code>kbd-helm-flyspell</code>) after a word to correct it with
Helm.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package helm-flyspell
  :after (helm)
  :commands helm-flyspell-correct
  :config (global-set-key (kbd "C-;") 'helm-flyspell-correct))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9ef4682" class="outline-3">
<h3 id="org9ef4682">helm-org-rifle</h3>
<div class="outline-text-3" id="text-org9ef4682">
<p>
Use (<code>M-r</code> / <code>kbd-helm-org-rifle</code>) to rifle through the current org-mode buffer or
all open org-mode buffers if one is not focused.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package helm-org-rifle
  :after (helm org)
  :commands helm-org-rifle-current-buffer
  :config
  (define-key org-mode-map (kbd "M-r") 'helm-org-rifle-current-buffer))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0391b0b" class="outline-3">
<h3 id="org0391b0b">helm-projectile</h3>
<div class="outline-text-3" id="text-org0391b0b">
<p>
Use (<code>C-x c p</code> / <code>kbd-helm-projectile</code>) to view the buffers and files in the current
Projectile project.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package helm-projectile
    :after (helm projectile)
    :commands helm-projectile
    :config
    (global-set-key (kbd "C-x c p") 'helm-projectile))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga82d358" class="outline-3">
<h3 id="orga82d358">auto full frame</h3>
<div class="outline-text-3" id="text-orga82d358">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defvar helm-full-frame-threshold 0.75)

(when window-system
  (defun helm-full-frame-hook ()
  (let ((threshold (* helm-full-frame-threshold (x-display-pixel-height))))
    (setq helm-full-frame (&lt; (frame-height) threshold))))

  (add-hook 'helm-before-initialize-hook 'helm-full-frame-hook))
</pre>
</div>
</div>
</div>

<div id="outline-container-org01af5ec" class="outline-3">
<h3 id="org01af5ec">filter nix wrappers</h3>
<div class="outline-text-3" id="text-org01af5ec">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'helm-external)
(setq helm-external-commands-list
      (seq-filter (lambda (v) (not (string-match "^\\." v)))
                  (helm-external-commands-list-1 'sort)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org23b918d" class="outline-2">
<h2 id="org23b918d">magit</h2>
<div class="outline-text-2" id="text-org23b918d">
<p>
Use (<code>C-x g</code> / <code>kbd-magit-status</code>) to open the best front-end to Git there is!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package magit
  :demand t
  :config
  (global-set-key (kbd "C-x g") 'magit-status))
</pre>
</div>
</div>

<div id="outline-container-org758e5a8" class="outline-3">
<h3 id="org758e5a8">forge</h3>
<div class="outline-text-3" id="text-org758e5a8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (use-package closql)
;; (use-package forge
;;   :demand t
;;   :straight (forge :type git :host github :repo "magit/forge" :files ("lisp/*.el")))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb87d6c3" class="outline-2">
<h2 id="orgb87d6c3">language support</h2>
<div class="outline-text-2" id="text-orgb87d6c3">
</div>
<div id="outline-container-orgcd6376b" class="outline-3">
<h3 id="orgcd6376b">flycheck</h3>
<div class="outline-text-3" id="text-orgcd6376b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb61d447" class="outline-3">
<h3 id="orgb61d447">elisp</h3>
<div class="outline-text-3" id="text-orgb61d447">
</div>
<div id="outline-container-org5d57183" class="outline-4">
<h4 id="org5d57183">macrostep</h4>
<div class="outline-text-4" id="text-org5d57183">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package macrostep
  :straight (macrostep :type git :host github :repo "joddie/macrostep")
  :config (define-key emacs-lisp-mode-map (kbd "C-c e") 'macrostep-expand))
</pre>
</div>
</div>
</div>
<div id="outline-container-org520ecef" class="outline-4">
<h4 id="org520ecef">context-help</h4>
<div class="outline-text-4" id="text-org520ecef">
<p>
Use (<code>C-c h</code> / <code>kbd-toggle-context-help</code>) to turn on a help-window that will
automatically update to display the help of the symbol before point.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun toggle-context-help ()
  "Turn on or off the context help.
Note that if ON and you hide the help buffer then you need to
manually reshow it. A double toggle will make it reappear"
  (interactive)
  (with-current-buffer (help-buffer)
    (unless (local-variable-p 'context-help)
      (set (make-local-variable 'context-help) t))
    (if (setq context-help (not context-help))
        (progn
           (if (not (get-buffer-window (help-buffer)))
               (display-buffer (help-buffer)))))
    (message "Context help %s" (if context-help "ON" "OFF"))))

(defun context-help ()
  "Display function or variable at point in *Help* buffer if visible.
Default behaviour can be turned off by setting the buffer local
context-help to false"
  (interactive)
  (let ((rgr-symbol (symbol-at-point))) ; symbol-at-point http://www.emacswiki.org/cgi-bin/wiki/thingatpt%2B.el
    (with-current-buffer (help-buffer)
     (unless (local-variable-p 'context-help)
       (set (make-local-variable 'context-help) t))
     (if (and context-help (get-buffer-window (help-buffer))
         rgr-symbol)
       (if (fboundp  rgr-symbol)
           (describe-function rgr-symbol)
         (if (boundp  rgr-symbol) (describe-variable rgr-symbol)))))))

(defadvice eldoc-print-current-symbol-info
  (around eldoc-show-c-tag activate)
  (cond
        ((eq major-mode 'emacs-lisp-mode) (context-help) ad-do-it)
        ((eq major-mode 'lisp-interaction-mode) (context-help) ad-do-it)
        ((eq major-mode 'apropos-mode) (context-help) ad-do-it)
        (t ad-do-it)))

(global-set-key (kbd "C-c h") 'toggle-context-help)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc64c4e" class="outline-4">
<h4 id="orgdc64c4e">lispy-mode</h4>
<div class="outline-text-4" id="text-orgdc64c4e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lispy
  :config
  (add-hook 'emacs-lisp-mode-hook (lambda () (lispy-mode 1)))
  (add-hook 'lisp-interaction-mode-hook (lambda () (lispy-mode 1)))
  (bind-key (kbd ":") 'self-insert-command lispy-mode-map)
  :bind (:map emacs-lisp-mode-map
              ("[" . lispy-open-square)
              ("]" . lispy-close-square)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc7f95b2" class="outline-3">
<h3 id="orgc7f95b2">markdown-mode</h3>
<div class="outline-text-3" id="text-orgc7f95b2">
<p>
All the internet uses it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package markdown-mode
  :commands (markdown-mode gfm-mode)
  :mode (("README\\.md\\'" . gfm-mode)
         ("\\.md\\'" . markdown-mode)
         ("\\.markdown\\'" . markdown-mode))
  :config (setq markdown-command "multimarkdown"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5582760" class="outline-3">
<h3 id="org5582760">python</h3>
<div class="outline-text-3" id="text-org5582760">
</div>
<div id="outline-container-orge8491bd" class="outline-4">
<h4 id="orge8491bd">elpy</h4>
<div class="outline-text-4" id="text-orge8491bd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;(use-package elpy)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf017f95" class="outline-3">
<h3 id="orgf017f95">typescript</h3>
<div class="outline-text-3" id="text-orgf017f95">
</div>
<div id="outline-container-orga606cee" class="outline-4">
<h4 id="orga606cee">typescript-mode</h4>
<div class="outline-text-4" id="text-orga606cee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package typescript-mode)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6b610f" class="outline-4">
<h4 id="orgd6b610f">jsx</h4>
<div class="outline-text-4" id="text-orgd6b610f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package web-mode
  :demand t
  :config
  (add-to-list 'auto-mode-alist '("\\.tsx\\'" . web-mode))
  (add-to-list 'auto-mode-alist '("\\.html?\\'" . web-mode))
  (setq web-mode-engines-alist
        '(("django"    . "\\.html\\'")))
  (add-hook 'web-mode-hook
            (lambda ()
              (when (string-equal "tsx" (file-name-extension buffer-file-name))
                (setup-tide-mode))))
  ;; enable typescript-tslint checker
  (flycheck-add-mode 'typescript-tslint 'web-mode))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org34d3cb1" class="outline-3">
<h3 id="org34d3cb1">yaml</h3>
<div class="outline-text-3" id="text-org34d3cb1">
</div>
<div id="outline-container-org5ea7c55" class="outline-4">
<h4 id="org5ea7c55">yaml-mode</h4>
<div class="outline-text-4" id="text-org5ea7c55">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yaml-mode
  :demand t
  :config
  (add-to-list 'auto-mode-alist '("\\.yml\\'" . yaml-mode)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge991812" class="outline-3">
<h3 id="orge991812">web-mode</h3>
<div class="outline-text-3" id="text-orge991812">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package less-css-mode)

(use-package web-mode
  :config
  (add-to-list 'auto-mode-alist '("\\.html\\'" . web-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga9535ef" class="outline-3">
<h3 id="orga9535ef">go-mode</h3>
<div class="outline-text-3" id="text-orga9535ef">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package go-mode
  :config (add-hook 'go-mode-hook
                    (lambda ()
                      (add-hook 'before-save-hook 'gofmt-before-save)
                      (setq tab-width 4)
                      (setq indent-tabs-mode 1))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae3e2f7" class="outline-3">
<h3 id="orgae3e2f7">lojban</h3>
<div class="outline-text-3" id="text-orgae3e2f7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; (eval `(use-package sutysisku
;;    :demand t
;;    :straight (sutysisku :local-repo ,(my/project-directory "sutysisku.el/"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcaf9649" class="outline-3">
<h3 id="orgcaf9649">csharp</h3>
<div class="outline-text-3" id="text-orgcaf9649">
</div>
<div id="outline-container-org23833bd" class="outline-4">
<h4 id="org23833bd">csharp-mode</h4>
<div class="outline-text-4" id="text-org23833bd">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package csharp-mode)
(use-package omnisharp)

(eval-after-load
  'company
  '(add-to-list 'company-backends #'company-omnisharp))

(defun my-csharp-mode-setup ()
  (omnisharp-mode)
  (company-mode)
  (flycheck-mode)

  (setq c-syntactic-indentation t)
  (c-set-style "ellemtel")
  (setq c-basic-offset 4)
  (setq truncate-lines t)
  (setq tab-width 4)

  (electric-pair-local-mode 1) ;; Emacs 25

  (local-set-key (kbd "C-c r r") 'omnisharp-run-code-action-refactoring)
  (local-set-key (kbd "C-c C-c") 'recompile))

(add-hook 'csharp-mode-hook 'my-csharp-mode-setup t)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf41877e" class="outline-2">
<h2 id="orgf41877e">tooling support</h2>
<div class="outline-text-2" id="text-orgf41877e">
</div>
<div id="outline-container-org8cbabee" class="outline-3">
<h3 id="org8cbabee">rec-mode</h3>
<div class="outline-text-3" id="text-org8cbabee">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rec-mode
  :straight (rec-mode :type git :repo "https://git.savannah.gnu.org/git/recutils.git" :files ("etc/rec-mode.el")))
</pre>
</div>
</div>

<div id="outline-container-orgdea5645" class="outline-4">
<h4 id="orgdea5645">support</h4>
<div class="outline-text-4" id="text-orgdea5645">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun rec-books-save-hook ()
  (message (buffer-name)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2b22236" class="outline-3">
<h3 id="org2b22236">docker</h3>
<div class="outline-text-3" id="text-org2b22236">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package dockerfile-mode
  :demand t
  :config
  (add-to-list 'auto-mode-alist '("Dockerfile\\'" . dockerfile-mode)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org03b9cda" class="outline-3">
<h3 id="org03b9cda">nix</h3>
<div class="outline-text-3" id="text-org03b9cda">
</div>
<div id="outline-container-orga69f422" class="outline-4">
<h4 id="orga69f422">nix-mode</h4>
<div class="outline-text-4" id="text-orga69f422">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package nix-mode
  :straight (nix-mode :type git :host github :repo "NixOS/nix-mode")
  :mode "\\.nix\\'"
  :config
  (remove-hook 'before-save-hook #'nix-mode-format))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd8c8615" class="outline-4">
<h4 id="orgd8c8615">nix-sandbox</h4>
<div class="outline-text-4" id="text-orgd8c8615">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package nix-sandbox)
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc224f00" class="outline-2">
<h2 id="orgc224f00">yasnippet</h2>
<div class="outline-text-2" id="text-orgc224f00">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package yasnippet
  :config
  (setq yas-snippet-dirs '(my/yas-directory))
  (yas-global-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd890de8" class="outline-2">
<h2 id="orgd890de8">org-brain</h2>
<div class="outline-text-2" id="text-orgd890de8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(eval `(use-package org-brain
         ;; :straight (helpful :type git :host github :repo "Kungsgeten/org-brain")
         :straight (org-brain :local-repo ,(my/source-directory "org-brain"))
         :config
         (setcdr org-brain-visualize-mode-map nil)
         (setq org-brain-visualize-default-choices 'root
               org-brain-path "/home/ldlework/src/episteme/brain/"
               org-brain-include-file-entries t
               org-brain-scan-for-header-entries nil
               org-brain-file-entries-use-title t
               org-brain-show-full-entry t
               org-brain-show-text t
               org-id-track-globally t
               org-brain-vis-current-title-append-functions '(org-brain-entry-tags-string)
               org-brain-title-max-length 24)))
</pre>
</div>
</div>

<div id="outline-container-org50d6a3c" class="outline-3">
<h3 id="org50d6a3c">Navigation Helpers</h3>
<div class="outline-text-3" id="text-org50d6a3c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/org-brain-visualize-parent ()
  (interactive)
  (when (org-brain-parents (org-brain-entry-at-pt)) (org-brain-visualize-parent (org-brain-entry-at-pt))))

(defun my/org-brain-visualize-child (entry &amp;optional all)
  (interactive (list (org-brain-entry-at-pt)))
  (when (org-brain-children entry)
    (let* ((entries (if all (org-brain-children entry)
                    (org-brain--linked-property-entries
                     entry org-brain-children-property-name)))
         (child (cond
                 ((equal 1 (length entries)) (car-safe entries))
                 ((not entries) (error (concat entry " has no children")))
                 (t (org-brain-choose-entry "Goto child: " entries nil t)))))
      (org-brain-visualize child))))

(defun my/next-button-with-category (category)
  (let ((original-point (point))
        (first-result (text-property-search-forward 'brain-category category t t)))
    (when first-result
          (goto-char (prop-match-beginning first-result)))
    (when (eq original-point (point))
      (beginning-of-buffer)
      (let ((second-result (text-property-search-forward 'brain-category category t t)))
        (when second-result
          (goto-char (prop-match-beginning second-result))))
      (when (eq 0 (point))
        (goto-char original-point))
      )
    ))

(defun my/previous-button-with-category (category)
  (let ((result (text-property-search-backwards 'brain-category category nil t)))))

(defun my/next-brain-child ()
  (interactive)
  (my/next-button-with-category 'child))

(defun my/next-brain-history ()
  (interactive)
  (my/next-button-with-category 'history))

(defun my/avy-brain-jump (category)
  (avy-jump "\\&lt;." :pred (lambda () (and (eq category (get-text-property (point) 'brain-category))
                                    (eq (- (point) 1) (button-start (button-at (point))))))
            :action (lambda (p) (goto-char (+ 1 p)) (push-button))))

(defun my/avy-brain-jump-history ()
  (interactive)
  (my/avy-brain-jump 'history))

(defun my/avy-brain-jump-child ()
  (interactive)
  (my/avy-brain-jump 'child))

(defun my/avy-brain-jump-parent ()
  (interactive)
  (my/avy-brain-jump 'parent))

(defun my/avy-brain-jump-friend ()
  (interactive)
  (my/avy-brain-jump 'friend))

(defun my/avy-brain-jump-sibling ()
  (interactive)
  (my/avy-brain-jump 'sibling))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e532dc" class="outline-3">
<h3 id="org8e532dc">polybrain</h3>
<div class="outline-text-3" id="text-org8e532dc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(eval `(use-package polybrain
         :defer nil
         :straight (polybrain :local-repo ,(my/project-directory "polybrain"))
         :bind (
                :map org-brain-visualize-mode-map
                ("m" . org-brain-visualize-mind-map)
                ("&lt;tab&gt;" . backward-button)
                ("S-&lt;tab&gt;" . forward-button)
                ("DEL" . org-brain-visualize-back)
                ("r" . org-brain-open-resource)
                ("v" . org-brain-visualize)

                ("i" . org-brain-pin)
                ("T" . org-brain-set-title)
                ("t" . org-brain-set-tags)
                ("d" . org-brain-delete-entry)
                ("R" . org-brain-visualize-add-resource)
                ("o" . org-brain-goto-current)
                ("O" . org-brain-goto)

                ("c" . org-brain-add-child)
                ("C" . org-brain-remove-child)

                ("p" . org-brain-add-parent)
                ("P" . org-brain-remove-parent)

                ("f" . org-brain-add-friendship)
                ("F" . org-brain-remove-friendship)

                ("e" . org-brain-annotate-edge)


                ("M-p" . my/avy-brain-jump-parent)
                ("M-c" . my/avy-brain-jump-child)
                ("M-s" . my/avy-brain-jump-sibling)
                ("M-f" . my/avy-brain-jump-friend)
                ("M-h" . my/avy-brain-jump-history)


                :map poly-brain-mode-map
                ("C-x C-s" . polybrain-save)
                ("&lt;M-SPC&gt;" . polybrain-switch))))

;; (require 'polybrain)
</pre>
</div>
</div>
</div>

<div id="outline-container-org863115c" class="outline-3">
<h3 id="org863115c">search</h3>
<div class="outline-text-3" id="text-org863115c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun episteme-search ()
  (interactive)
  (helm-do-ag (my/project-directory "episteme/brain"))
  (let* ((p (point))
         (f (org-brain-first-headline-position))
         (adjusted-point (max 0 (- p f))))
    (org-brain-visualize (file-name-sans-extension (buffer-name)))
    (with-current-buffer "*org-brain*"
      (let ((minmax (polybrain--get-point-min-max)))
        (goto-char (+ (car minmax) adjusted-point))))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7c858dd" class="outline-2">
<h2 id="org7c858dd">hydra</h2>
<div class="outline-text-2" id="text-org7c858dd">
</div>
<div id="outline-container-orgaa999c6" class="outline-3">
<h3 id="orgaa999c6">pretty-hydra</h3>
<div class="outline-text-3" id="text-orgaa999c6">
<p>
<a href="https://github.com/jerrypnz/major-mode-hydra.el#pretty-hydra">Pretty-hydra</a> provides a macro that makes it easy to get good looking Hydras.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package pretty-hydra
  :demand t
  :straight (pretty-hydra :type git :host github
                          :repo "jerrypnz/major-mode-hydra.el"
                          :branch "c6554ea"
                          :files ("pretty-hydra.el")))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8f7e375" class="outline-3">
<h3 id="org8f7e375">major-mode-hydra</h3>
<div class="outline-text-3" id="text-org8f7e375">
<p>
<a href="https://github.com/jerrypnz/major-mode-hydra.el">Major-mode-hydra</a> provides an macro for defining major-mode specific Hydras.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package major-mode-hydra
  :demand t
  :straight (major-mode-hydra :type git :host github
                              :repo "jerrypnz/major-mode-hydra.el"
                              :branch "c6554ea"
                              :files ("major-mode-hydra.el"))
  :config
  (global-set-key (kbd "C-&lt;f19&gt;") 'major-mode-hydra)
  (global-set-key (kbd "C-&lt;f12&gt;") 'major-mode-hydra))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd124f5" class="outline-3">
<h3 id="orgbd124f5">hera</h3>
<div class="outline-text-3" id="text-orgbd124f5">
<p>
<a href="https://github.com/dustinlacewell/hera">Hera</a> provides for a few Hydra niceties including an API that allows your Hydras to
form a stack.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package hera
  :demand t
  :straight (hera :type git :host github :repo "dustinlacewell/hera"))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga36902a" class="outline-3">
<h3 id="orga36902a">nougat-hydra</h3>
<div class="outline-text-3" id="text-orga36902a">
<p>
This is the main macro for defining Hydras in Nougat.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(defun nougat--inject-hint (symbol hint)
  (-let* ((name (symbol-name symbol))
          (hint-symbol (intern (format "%s/hint" name)))
          (format-form (eval hint-symbol))
          (string-cdr (nthcdr 1 format-form))
          (format-string (string-trim (car string-cdr)))
          (amended-string (format "%s\n\n%s" format-string hint)))
    (setcar string-cdr amended-string)))

(defun nougat--make-head-hint (head default-color)
  (-let (((key _ hint . rest) head))
    (when key
      (-let* (((&amp;plist :color color) rest)
              (color (or color default-color))
              (face (intern (format "hydra-face-%s" color)))
              (propertized-key (propertize key 'face face)))
        (format " [%s]: %s" propertized-key hint)))))

(defun nougat--make-hint (heads default-color)
  (string-join
   (cl-loop for head in heads
            for hint = (nougat--make-head-hint head default-color)
            do (pp hint)
            collect hint) "\n"))

(defun nougat--clear-hint (head)
  (-let* (((key form _ . rest) head))
    `(,key ,form nil ,@rest)))

(defun nougat--add-exit-head (heads)
  (let ((exit-head '("SPC" (hera-pop) "to exit" :color blue)))
    (append heads `(,exit-head))))

(defun nougat--add-heads (columns extra-heads)
  (let* ((cell (nthcdr 1 columns))
         (heads (car cell))
         (extra-heads (mapcar 'nougat--clear-hint extra-heads)))
    (setcar cell (append heads extra-heads))))

(defmacro nougat-hydra (name body columns &amp;optional extra-heads)
  (declare (indent defun))
  (-let* (((&amp;plist :color default-color :major-mode mode) body)
          (extra-heads (nougat--add-exit-head extra-heads))
          (extra-hint (nougat--make-hint extra-heads default-color))
          (body (plist-put body :hint nil))
          (body-name (format "%s/body" (symbol-name name)))
          (body-symbol (intern body-name))
          (mode-body-name (major-mode-hydra--body-name-for mode))
          (mode-support
           `(when ',mode
              (defun ,mode-body-name () (interactive) (,body-symbol)))))
    (nougat--add-heads columns extra-heads)
    (when mode
      (cl-remf body :major-mode))
    `(progn
       (pretty-hydra-define ,name ,body ,columns)
       (nougat--inject-hint ',name ,extra-hint)
       ,mode-support
       )))

;; (macroexpand-all `(nougat-hydra hydra-test (:color red :major-mode fundamental-mode)
;;    ("First"
;;     (("a" (message "first - a") "msg a" :color blue)
;;      ("b" (message "first - b") "msg b"))
;;     "Second"
;;     (("c" (message "second - c") "msg c" :color blue)
;;      ("d" (message "second - d") "msg d")))))

;; (nougat-hydra hydra-test (:color red :major-mode fundamental-mode)
;;    ("First"
;;     (("a" (message "first - a") "msg a" :color blue)
;;      ("b" (message "first - b") "msg b"))
;;     "Second"
;;     (("c" (message "second - c") "msg c" :color blue)
;;      ("d" (message "second - d") "msg d"))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org16d6997" class="outline-3">
<h3 id="org16d6997">hydra-dwim</h3>
<div class="outline-text-3" id="text-org16d6997">
<p>
I have <code>&lt;f12&gt;</code> bound to caps-lock and <code>&lt;f19&gt;</code> as the key second-to-the-right of
spacebar. I use these for closing hydras.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/hydra-dwim ()
  (interactive)
  (let* ((mode major-mode)
        (orig-mode mode))
    (catch 'done
      (while mode
        (let ((hydra (major-mode-hydra--body-name-for mode)))
          (when (fboundp hydra)
            (hera-start hydra)
            (throw 'done t)))
        (setq mode (get mode 'derived-mode-parent)))
      (hera-start 'hydra-default/body))))

(setq kbd-hera-pop "&lt;f12&gt;")
(global-set-key (kbd "&lt;f13&gt;") 'my/hydra-dwim)
(global-set-key (kbd "&lt;f12&gt;") (lambda () (interactive) (hera-start 'hydra-default/body)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2b72621" class="outline-3">
<h3 id="org2b72621">helm-org-bm</h3>
<div class="outline-text-3" id="text-org2b72621">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'seq)

(defun helm-org-bm--element (regexp)
  (search-forward-regexp regexp)
  (next-line)
  (org-element-context))

(defun helm-org-bm--format (element)
  (format "[[%s]]" (plist-get (nth 1 element) :raw-link)))

(defun helm-org-bm--filter-candidates (canididates)
  (cl-loop for c in candidates
           for label = (nth 0 c)
           for regexp = (nth 2 c)
           for element = (helm-org-bm--element regexp)
           if (equal 'link (car element))
           collect (list label (helm-org-bm--format element))))

(defun helm-org-bm--get-bookmarks ()
  (let* ((org-refile-targets '((nil :maxlevel . 99)))
         (candidates (org-refile-get-targets)))
    (helm-org-bm--filter-candidates candidates)))

(defun helm-org-bm--pick-bookmark (targets)
  (let ((choice (completing-read "&gt;" (mapcar 'car targets))))
    (seq-find (lambda (i) (string-equal choice (car i))) targets)))

(defun helm-org-bm-bookmark ()
  (interactive)
  (save-excursion
    (with-temp-buffer
      (insert-file-contents (my/org-file-name "bookmarks.org"))
      (org-mode)
      (outline-show-all)
      (beginning-of-buffer)
      (let* ((targets (helm-org-bm--get-bookmarks))
             (choice (helm-org-bm--pick-bookmark targets))
             (org-link-frame-setup '((file . find-file)))
             (org-confirm-elisp-link-function nil))
        (org-open-link-from-string (cadr choice) (current-buffer))))))

(defun helm-org-bm-capture ()
  (interactive)
  (let ((org-capture-entry helm-org-bm-entry))
    (setq org-refile-use-outline-path t)
    (setq org-outline-path-complete-in-steps nil)
    (setq org-refile-targets '((nil :maxlevel . 99)))
    (ignore-errors (org-capture))))

(setq helm-org-bm-entry
      '("t" "Bookmark" entry (file (my/org-file-name "bookmarks.org"))
        "* %^{Title}\n[[%?]]\n  added: %U" '(:kill-buffer)))

(setq helm-org-bm-actions
      '(("Open bookmark" . helm-org-bm--goto)
        ("Go to heading" . helm-org-goto-marker)
        ("Open in indirect buffer `C-c i'" .
         helm-org--open-heading-in-indirect-buffer)
        ("Refile heading(s) `C-c w`" .
         helm-org--refile-heading-to)
        ("Insert link to this heading `C-c l`" .
         helm-org-insert-link-to-heading-at-marker)))

(nougat-hydra hydra-bookmarks (:color blue)
  ("Bookmarks" (("n" (helm-org-bm-capture) "new")
                ("b" (helm-org-bm-bookmark) "bookmarks"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4d7c408" class="outline-3">
<h3 id="org4d7c408">major-mode hydra key</h3>
<div class="outline-text-3" id="text-org4d7c408">
<p>
I have <code>&lt;f19&gt;</code> bound to the second-key right of spacebar. I use it to open any
available major-mode hydra.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-set-key (kbd "&lt;f19&gt;") 'major-mode-hydra)
</pre>
</div>
</div>
</div>

<div id="outline-container-org163c775" class="outline-3">
<h3 id="org163c775">hydra-help</h3>
<div class="outline-text-3" id="text-org163c775">
<p>
Many of the Emacs help facilities at your fingertips!
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(nougat-hydra hydra-help (:color blue)
  ("Describe"
   (("c" describe-function "function")
    ("p" describe-package "package")
    ("m" describe-mode "mode")
    ("v" describe-variable "variable"))
   "Keys"
   (("k" describe-key "key")
    ("K" describe-key-briefly "brief key")
    ("w" where-is "where-is")
    ("b" helm-descbinds "bindings"))
   "Search"
   (("a" helm-apropos "apropos")
    ("d" apropos-documentation "documentation")
    ("s" info-lookup-symbol "symbol info"))
   "Docs"
   (("i" info "info")
    ("n" helm-man-woman "man")
    ("h" helm-dash "dash"))
   "View"
   (("e" view-echo-area-messages "echo area")
    ("l" view-lossage "lossage")
    ("c" describe-coding-system "encoding")
    ("I" describe-input-method "input method")
    ("C" describe-char "char at point"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc2bdc3" class="outline-3">
<h3 id="orgcc2bdc3">hydra-mark</h3>
<div class="outline-text-3" id="text-orgcc2bdc3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun unpop-to-mark-command ()
  "Unpop off mark ring. Does nothing if mark ring is empty."
  (when mark-ring
    (setq mark-ring (cons (copy-marker (mark-marker)) mark-ring))
    (set-marker (mark-marker) (car (last mark-ring)) (current-buffer))
    (when (null (mark t)) (ding))
    (setq mark-ring (nbutlast mark-ring))
    (goto-char (marker-position (car (last mark-ring))))))

(defun push-mark ()
  (interactive)
  (set-mark-command nil)
  (set-mark-command nil))

(nougat-hydra hydra-mark (:color pink)
  ("Mark"
   (("m" push-mark "mark here")
    ("p" (lambda () (interactive) (set-mark-command '(4))) "previous")
    ("n" (lambda () (interactive) (unpop-to-mark-command)) "next")
    ("c" (lambda () (interactive) (setq mark-ring nil)) "clear"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd95a92b" class="outline-3">
<h3 id="orgd95a92b">hydra-projectile</h3>
<div class="outline-text-3" id="text-orgd95a92b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun projectile-readme ()
    (interactive)
    (let ((file-name (-find (lambda (f) (s-matches? "^readme" f))
                            (projectile-current-project-files))))
      (find-file (concat (projectile-project-root) "/" file-name))))

(use-package helm-projectile :demand t
  :config
  (defun projectile-dwim ()
    (interactive)
    (if (string= "-" (projectile-project-name))
        (helm-projectile-switch-project)
      (hydra-projectile/body)))

  (nougat-hydra hydra-projectile (:color blue)
    ("Open"
     (("f" (helm-projectile-find-file-dwim) "file")
      ("p" (helm-projectile-switch-project) "project")
      ("b" (helm-projectile-switch-to-buffer) "buffer")
      ("w" (hydra-treemacs/body) "workspace"))
     "Do"
     (("s" (call-interactively 'helm-ag-project-root) "search")
      ("c" (org-projectile-helm-template-or-project) "capture"))
     "Cache"
     (("C" projectile-invalidate-cache "clear")
      ("x" (projectile-remove-known-project) "remove project")
      ("X" (projectile-cleanup-known-projects) "cleanup")))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgafd512b" class="outline-3">
<h3 id="orgafd512b">hydra-registers</h3>
<div class="outline-text-3" id="text-orgafd512b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-registers (:color pink)
  ("Point"
   (("r" point-to-register "save point")
    ("j" jump-to-register "jump")
    ("v" view-register "view all"))
   "Text"
   (("c" copy-to-register "copy region")
    ("C" copy-rectangle-to-register "copy rect")
    ("i" insert-register "insert")
    ("p" prepend-to-register "prepend")
    ("a" append-to-register "append"))
   "Macros"
   (("m" kmacro-to-register "store")
    ("e" jump-to-register "execute"))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a8acbe" class="outline-3">
<h3 id="org9a8acbe">hydra-window</h3>
<div class="outline-text-3" id="text-org9a8acbe">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ace-window)
(winner-mode 1)

(nougat-hydra hydra-window (:color red)
  ("Jump"
   (("h" windmove-left "left")
    ("l" windmove-right "right")
    ("k" windmove-up "up")
    ("j" windmove-down "down")
    ("a" ace-select-window "ace"))
   "Split"
   (("q" split-window-right "left")
    ("r" (progn (split-window-right) (call-interactively 'other-window)) "right")
    ("e" split-window-below "up")
    ("w" (progn (split-window-below) (call-interactively 'other-window)) "down"))
   "Do"
   (("d" delete-window "delete")
    ("o" delete-other-windows "delete others")
    ("u" winner-undo "undo")
    ("R" winner-redo "redo")
    ("t" nougat-hydra-toggle-window "toggle"))))
</pre>
</div>
</div>

<div id="outline-container-org03e348b" class="outline-4">
<h4 id="org03e348b">Toggle Window Split</h4>
<div class="outline-text-4" id="text-org03e348b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/toggle-window-split (&amp;optional arg)
    "Switch between 2 windows split horizontally or vertically.
    With ARG, swap them instead."
    (interactive "P")
    (unless (= (count-windows) 2)
      (user-error "Not two windows"))
    ;; Swap two windows
    (if arg
        (let ((this-win-buffer (window-buffer))
              (next-win-buffer (window-buffer (next-window))))
          (set-window-buffer (selected-window) next-win-buffer)
          (set-window-buffer (next-window) this-win-buffer))
      ;; Swap between horizontal and vertical splits
      (let* ((this-win-buffer (window-buffer))
             (next-win-buffer (window-buffer (next-window)))
             (this-win-edges (window-edges (selected-window)))
             (next-win-edges (window-edges (next-window)))
             (this-win-2nd (not (and (&lt;= (car this-win-edges)
                                         (car next-win-edges))
                                     (&lt;= (cadr this-win-edges)
                                         (cadr next-win-edges)))))
             (splitter
              (if (= (car this-win-edges)
                     (car (window-edges (next-window))))
                  'split-window-horizontally
                'split-window-vertically)))
        (delete-other-windows)
        (let ((first-win (selected-window)))
          (funcall splitter)
          (if this-win-2nd (other-window 1))
          (set-window-buffer (selected-window) this-win-buffer)
          (set-window-buffer (next-window) next-win-buffer)
          (select-window first-win)
          (if this-win-2nd (other-window 1))))))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgab4c7c7" class="outline-3">
<h3 id="orgab4c7c7">hydra-yank-pop</h3>
<div class="outline-text-3" id="text-orgab4c7c7">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-yank-pop (:color red)
  ("Yank/Pop"
   (("y" (yank-pop 1) "previous")
    ("Y" (yank-pop -1) "next")
    ("l" helm-show-kill-ring "list" :color blue))))

(global-set-key
 (kbd "C-y")
 (lambda () (interactive) (yank) (hydra-yank-pop/body)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org803c5cb" class="outline-3">
<h3 id="org803c5cb">hydra-zoom</h3>
<div class="outline-text-3" id="text-org803c5cb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package zoom-frm
  :straight (zoom-frm :type git
                      :host github
                      :repo "emacsmirror/emacswiki.org"
                      :files ("zoom-frm.el")))

(nougat-hydra hydra-zoom (:color red)
  ("Buffer"
   (("i" text-scale-increase "in")
    ("o" text-scale-decrease "out"))
   "Frame"
   (("I" zoom-frm-in "in")
    ("O" zoom-frm-out "out")
    ("r" toggle-zoom-frame "reset" :color blue))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org9aeb0a6" class="outline-3">
<h3 id="org9aeb0a6">emacs-lisp</h3>
<div class="outline-text-3" id="text-org9aeb0a6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-elisp (:color blue :major-mode emacs-lisp-mode)
  ("Execute"
   (("d" eval-defun "defun")
    ("b" eval-current-buffer "buffer")
    ("r" eval-region "region"))
   "Debug"
   (("D" edebug-defun "defun")
    ("a" edebug-all-defs "all definitions" :color red)
    ("A" edebug-all-forms "all forms" :color red)
    ("x" macrostep-expand "expand macro"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf34410f" class="outline-3">
<h3 id="orgf34410f">org-mode</h3>
<div class="outline-text-3" id="text-orgf34410f">
</div>
<div id="outline-container-orgc5efec3" class="outline-4">
<h4 id="orgc5efec3">hydra-org-goto-first-sibling</h4>
<div class="outline-text-4" id="text-orgc5efec3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun hydra-org-goto-first-sibling () (interactive)
       (org-backward-heading-same-level 99999999))
</pre>
</div>
</div>
</div>

<div id="outline-container-org35621ab" class="outline-4">
<h4 id="org35621ab">hydra-org-goto-last-sibling</h4>
<div class="outline-text-4" id="text-org35621ab">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun hydra-org-goto-last-sibling () (interactive)
       (org-forward-heading-same-level 99999999))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0116ec8" class="outline-4">
<h4 id="org0116ec8">hydra-org-parent-level</h4>
<div class="outline-text-4" id="text-org0116ec8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun hydra-org-parent-level ()
  (interactive)
  (let ((o-point (point)))
    (if (save-excursion
          (beginning-of-line)
          (looking-at org-heading-regexp))
        (progn
          (call-interactively 'outline-up-heading)
          (org-cycle-internal-local))
      (progn
        (call-interactively 'org-previous-visible-heading)
        (org-cycle-internal-local)))
    (when (and (/= o-point (point))
               org-tidy-p)
      (call-interactively 'hydra-org-tidy))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga61a0cb" class="outline-4">
<h4 id="orga61a0cb">hydra-org-child-level</h4>
<div class="outline-text-4" id="text-orga61a0cb">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun hydra-org-child-level ()
  (interactive)
  (org-show-entry)
  (org-show-children)
  (when (not (org-goto-first-child))
    (when (save-excursion
            (beginning-of-line)
            (looking-at org-heading-regexp))
      (next-line))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0d5130d" class="outline-4">
<h4 id="org0d5130d">hydra-org</h4>
<div class="outline-text-4" id="text-org0d5130d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'helm-org)
(nougat-hydra hydra-org (:color red :major-mode org-mode)
  ("Shift"
   (("K" org-move-subtree-up "up")
    ("J" org-move-subtree-down "down")
    ("h" org-promote-subtree "promote")
    ("l" org-demote-subtree "demote"))
   "Travel"
   (("p" org-backward-heading-same-level "backward")
    ("n" org-forward-heading-same-level "forward")
    ("j" hydra-org-child-level "to child")
    ("k" hydra-org-parent-level "to parent")
    ("a" hydra-org-goto-first-sibling "first sibling")
    ("e" hydra-org-goto-last-sibling "last sibling"))
   "Perform"
   (("b" helm-org-in-buffer-headings "browse")
    ("r" (lambda () (interactive)
           (helm-org-rifle-current-buffer)
           (call-interactively 'org-cycle)
           (call-interactively 'org-cycle)) "rifle")
    ("v" avy-org-goto-heading-timer "avy")
    ("L" org-toggle-link-display "toggle links"))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb7613e9" class="outline-3">
<h3 id="orgb7613e9">hydra-brain</h3>
<div class="outline-text-3" id="text-orgb7613e9">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-brain (:color red :major-mode org-brain-visualize-mode)
  (
   "View"
   (("m" (polybrain-top-then 'org-brain-visualize-mind-map) "mind-map")
    ("R" (polybrain-top-then 'org-brain-visualize-add-resource) "add resource")
    ("M-SPC" polybrain-switch "switch"))
   "Navigate"
   (("o" (polybrain-top-then 'org-brain-visualize) "open")
    ("DEL" (polybrain-top-then 'org-brain-visualize-back) "back")
    ("M-p" (polybrain-top-then 'my/avy-brain-jump-parent) "parent")
    ("M-c" (polybrain-top-then 'my/avy-brain-jump-child) "child")
    ("M-f" (polybrain-top-then 'my/avy-brain-jump-friend) "friend")
    ("M-s" (polybrain-top-then 'my/avy-brain-jump-sibling) "sibling")
    ("M-h" (polybrain-top-then 'my/avy-brain-jump-history) "history")
    ("r" (polybrain-top-then 'org-brain-open-resource) "open resource"))
   "Relations"
   (("c" (polybrain-top-then 'org-brain-add-child) "add child")
    ("C" (polybrain-top-then 'org-brain-remove-child) "remove child")
    ("p" (polybrain-top-then 'org-brain-add-parent) "add parent")
    ("P" (polybrain-top-then 'org-brain-remove-parent) "remove parent")
    ("f" (polybrain-top-then 'org-brain-add-friendship) "add friend")
    ("F" (polybrain-top-then 'org-brain-remove-friendship) "remove friend"))
   "Manipulate"
   (("e" (polybrain-top-then 'org-brain-goto-current) "edit")
    ("D" (polybrain-top-then 'org-brain-delete-entry) "delete")
    ("t" (polybrain-top-then 'org-brain-set-tags) "tags")
    ("i" (polybrain-top-then 'org-brain-pin) "pin"))
   ))
(nougat-hydra hydra-brain (:color red :major-mode org-brain-visualize-mode)
  (
   "View"
   (("m" (polybrain-top-then 'org-brain-visualize-mind-map) "mind-map")
    ("R" (polybrain-top-then 'org-brain-visualize-add-resource) "add resource")
    ("M-SPC" polybrain-switch "switch"))
   "Navigate"
   (("o" (polybrain-top-then 'org-brain-visualize) "open")
    ("DEL" (polybrain-top-then 'org-brain-visualize-back) "back")
    ("M-p" (polybrain-top-then 'my/avy-brain-jump-parent) "parent")
    ("M-c" (polybrain-top-then 'my/avy-brain-jump-child) "child")
    ("M-f" (polybrain-top-then 'my/avy-brain-jump-friend) "friend")
    ("M-s" (polybrain-top-then 'my/avy-brain-jump-sibling) "sibling")
    ("M-h" (polybrain-top-then 'my/avy-brain-jump-history) "history")
    ("r" (polybrain-top-then 'org-brain-open-resource) "open resource"))
   "Relations"
   (("c" (polybrain-top-then 'org-brain-add-child) "add child")
    ("C" (polybrain-top-then 'org-brain-remove-child) "remove child")
    ("p" (polybrain-top-then 'org-brain-add-parent) "add parent")
    ("P" (polybrain-top-then 'org-brain-remove-parent) "remove parent")
    ("f" (polybrain-top-then 'org-brain-add-friendship) "add friend")
    ("F" (polybrain-top-then 'org-brain-remove-friendship) "remove friend"))
   "Manipulate"
   (("e" (polybrain-top-then 'org-brain-goto-current) "edit")
    ("D" (polybrain-top-then 'org-brain-delete-entry) "delete")
    ("t" (polybrain-top-then 'org-brain-set-tags) "tags")
    ("i" (polybrain-top-then 'org-brain-pin) "pin"))
   ))
</pre>
</div>
</div>

<div id="outline-container-org3680558" class="outline-4">
<h4 id="org3680558">Toggle Window Split</h4>
<div class="outline-text-4" id="text-org3680558">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/toggle-window-split (&amp;optional arg)
    "Switch between 2 windows split horizontally or vertically.
    With ARG, swap them instead."
    (interactive "P")
    (unless (= (count-windows) 2)
      (user-error "Not two windows"))
    ;; Swap two windows
    (if arg
        (let ((this-win-buffer (window-buffer))
              (next-win-buffer (window-buffer (next-window))))
          (set-window-buffer (selected-window) next-win-buffer)
          (set-window-buffer (next-window) this-win-buffer))
      ;; Swap between horizontal and vertical splits
      (let* ((this-win-buffer (window-buffer))
             (next-win-buffer (window-buffer (next-window)))
             (this-win-edges (window-edges (selected-window)))
             (next-win-edges (window-edges (next-window)))
             (this-win-2nd (not (and (&lt;= (car this-win-edges)
                                         (car next-win-edges))
                                     (&lt;= (cadr this-win-edges)
                                         (cadr next-win-edges)))))
             (splitter
              (if (= (car this-win-edges)
                     (car (window-edges (next-window))))
                  'split-window-horizontally
                'split-window-vertically)))
        (delete-other-windows)
        (let ((first-win (selected-window)))
          (funcall splitter)
          (if this-win-2nd (other-window 1))
          (set-window-buffer (selected-window) this-win-buffer)
          (set-window-buffer (next-window) next-win-buffer)
          (select-window first-win)
          (if this-win-2nd (other-window 1))))))

</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdb420b1" class="outline-2">
<h2 id="orgdb420b1">treemacs</h2>
<div class="outline-text-2" id="text-orgdb420b1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package treemacs
  :demand t
  :config (progn
          (setq treemacs-width 25)
          (global-set-key (kbd "M-&lt;f12&gt;") 'treemacs)
          (define-key treemacs-mode-map [mouse-1] #'treemacs-single-click-expand-action)
          (setq treemacs-project-follow-cleanup t)
          (setq treemacs-is-never-other-window t)))

(setq treemacs-icon-open-png   (propertize "âŠ– " 'face 'treemacs-directory-face)
      treemacs-icon-closed-png (propertize "âŠ• " 'face 'treemacs-directory-face))

(use-package treemacs-projectile)
(use-package treemacs-magit)
</pre>
</div>
</div>

<div id="outline-container-org1939cbe" class="outline-3">
<h3 id="org1939cbe">Hydra</h3>
<div class="outline-text-3" id="text-org1939cbe">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-treemacs (:color red)
  ("Workspace"
   (("o" treemacs-switch-workspace "open")
    ("n" treemacs-create-workspace "new")
    ("k" treemacs-delete-workspace "kill")
    ("r" treemacs-rename-workspace "rename"))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgbdaccc5" class="outline-2">
<h2 id="orgbdaccc5">elfeed</h2>
<div class="outline-text-2" id="text-orgbdaccc5">
</div>
<div id="outline-container-org43bf751" class="outline-3">
<h3 id="org43bf751">boilerplate</h3>
<div class="outline-text-3" id="text-org43bf751">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun advice-unadvice (sym)
  "Remove all advices from symbol SYM."
  (interactive "aFunction symbol: ")
  (advice-mapc (lambda (advice _props) (advice-remove sym advice)) sym))

(defun elfeed-font-size-hook ()
  (buffer-face-set '(:height 1.35)))

(defun elfeed-visual-fill-hook ()
  (visual-fill-column-mode--enable))

(defun elfeed-show-refresh-advice (entry)
  (elfeed-font-size-hook)
  (visual-fill-column-mode 1)
  (setq word-wrap 1)
  (elfeed-show-refresh))

(defun elfeed-show ()
  (interactive)
  (elfeed)
  (delete-other-windows))
</pre>
</div>
</div>
</div>

<div id="outline-container-org73807f6" class="outline-3">
<h3 id="org73807f6">setup</h3>
<div class="outline-text-3" id="text-org73807f6">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elfeed
  :bind (("C-x w" . elfeed-show))
  :config
  (add-hook 'elfeed-search-update-hook 'elfeed-font-size-hook)
  (advice-unadvice 'elfeed-show-entry)
  (advice-add 'elfeed-show-entry :after 'elfeed-show-refresh-advice))

(use-package elfeed-org
  :after (elfeed)
  :config
  (elfeed-org)
  (setq rmh-elfeed-org-files (list (my/org-file-name "notes.org"))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org861a578" class="outline-2">
<h2 id="org861a578">misc</h2>
<div class="outline-text-2" id="text-org861a578">
<p>
Miscellaneous packages that don't really need their own section.
</p>
</div>

<div id="outline-container-org9943147" class="outline-3">
<h3 id="org9943147">emacsql</h3>
<div class="outline-text-3" id="text-org9943147">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emacsql-sqlite)
</pre>
</div>
</div>
</div>
<div id="outline-container-org77f4fa0" class="outline-3">
<h3 id="org77f4fa0">gist</h3>
<div class="outline-text-3" id="text-org77f4fa0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package gist
  :straight (gist :type git :host github :repo "defunkt/gist.el"))

(nougat-hydra hydra-gist (:color blue)
  ("Gist" (("p" (gist-region-or-buffer) "public")
           ("P" (gist-region-or-buffer-private) "private")
           ("b" (browse-url "https://gist.github.com/dustinlacewell") "browse"))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8621fc1" class="outline-3">
<h3 id="org8621fc1">poker.el</h3>
<div class="outline-text-3" id="text-org8621fc1">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package poker
  :straight (poker :type git :host github :repo "mlang/poker.el"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org46e4f96" class="outline-3">
<h3 id="org46e4f96">decide-mode</h3>
<div class="outline-text-3" id="text-org46e4f96">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package decide
  :straight (decide :type git :host github :repo "lifelike/decide-mode"))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2944fdf" class="outline-2">
<h2 id="org2944fdf">entrypoint</h2>
<div class="outline-text-2" id="text-org2944fdf">
</div>
<div id="outline-container-org084fc86" class="outline-3">
<h3 id="org084fc86">ep-notes-file</h3>
<div class="outline-text-3" id="text-org084fc86">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq ep-notes-file (my/org-file-name "notes.org"))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge1650d0" class="outline-3">
<h3 id="orge1650d0">ep-notes-find-file</h3>
<div class="outline-text-3" id="text-orge1650d0">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun ep-notes-find-file () (find-file ep-notes-file))
</pre>
</div>
</div>
</div>

<div id="outline-container-org119b5b5" class="outline-3">
<h3 id="org119b5b5">ep-notes-visit</h3>
<div class="outline-text-3" id="text-org119b5b5">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun ep-notes-visit (&amp;rest olp) (org-olp-visit ep-notes-file olp))
;; (ep-notes-visit "Workiva" "Runbooks")
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8fa74f" class="outline-3">
<h3 id="orgf8fa74f">ep-notes-select-then-visit</h3>
<div class="outline-text-3" id="text-orgf8fa74f">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun ep-notes-select-then-visit (&amp;rest olp) (org-olp-select-then-visit ep-notes-file olp))
;; (ep-notes-select-then-visit "Workiva" "Tasks")
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb08a945" class="outline-3">
<h3 id="orgb08a945">bookmarks</h3>
<div class="outline-text-3" id="text-orgb08a945">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-bookmarks (:color blue)
  ("Bookmarks" (("n" (linkmarks-capture) "new")
                ("b" (linkmarks-select) "browse")
                ("e" (find-file my/bookmarks-file-name)))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4dd5629" class="outline-3">
<h3 id="org4dd5629">docs</h3>
<div class="outline-text-3" id="text-org4dd5629">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-docs (:color blue)
  ("Docs" (("n" (hera-push 'hydra-nix/body) "Nix"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae2e061" class="outline-3">
<h3 id="orgae2e061">nix</h3>
<div class="outline-text-3" id="text-orgae2e061">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(nougat-hydra hydra-nix (:color blue)
  ("Nix" (("p" (progn (find-file (my/org-file-name "nixpkgs.org"))
                      (helm-org-in-buffer-headings)
                      (recenter-top-bottom 1)
                      (org-narrow-to-subtree)
                      (sit-for 5)
                      (widen)) "nixpkgs"))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd18dc41" class="outline-3">
<h3 id="orgd18dc41">hydra-default</h3>
<div class="outline-text-3" id="text-orgd18dc41">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'org-olp)

(nougat-hydra hydra-tasks (:color blue)
  ("Todos"
   (("t" (visit-candidate my/notes-file-name '(todo "TODO")) "todo")
    ("d" (visit-candidate my/notes-file-name '(todo "DOING")) "doing")
    ("D" (visit-candidate my/notes-file-name '(todo "DONE")) "done"))))

(nougat-hydra hydra-notes (:color blue)
  ("Notes"
   (("f" (org-olp-find my/notes-file-name) "find")
    ("t" (hera-push 'hydra-tasks/body) "tasks")
    ("p" (org-olp-visit
          my/notes-file-name
          '("Software" "Emacs" "Packages")) "emacs packages"))))

(nougat-hydra hydra-default (:color blue)
  ("Open"
   (("a" (org-agenda nil "a") "agenda")
    ("p" (hera-push 'hydra-projectile/body) "projectile")
    ("c" (org-capture) "capture")
    ("b" (hera-push 'hydra-bookmarks/body) "bookmarks"))
   "Emacs"
   (("h" (hera-push 'hydra-help/body) "help")
    ("m" (hera-push 'hydra-mark/body) "mark")
    ("w" (hera-push 'hydra-window/body) "windows")
    ("z" (hera-push 'hydra-zoom/body) "zoom")
    ("r" (hera-push 'hydra-registers/body) "registers"))
   "Misc"
   (("n" (hera-push 'hydra-notes/body) "notes")
    ("d" (hera-push 'hydra-docs/body) "docs")
    ("g" (hera-push 'hydra-gist/body) "gist")
    ("B" org-brain-visualize "brain")
    ("?" episteme-search "search brain")
    ("l" (progn (setq this-command 'sutysisku-search-helm)
                (call-interactively 'sutysisku-search-helm)) "lojban"))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org23d2bd5" class="outline-2">
<h2 id="org23d2bd5">linux configuration</h2>
<div class="outline-text-2" id="text-org23d2bd5">
</div>
<div id="outline-container-org823c1cf" class="outline-3">
<h3 id="org823c1cf">preamble</h3>
<div class="outline-text-3" id="text-org823c1cf">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (string-equal system-type "gnu/linux")
</pre>
</div>
</div>
</div>

<div id="outline-container-org6da05bc" class="outline-3">
<h3 id="org6da05bc">nixos</h3>
<div class="outline-text-3" id="text-org6da05bc">
<p>
NixOS' ZSH module drops some PATH modification stuff in <code>~/.config/zsh/.zshrc</code>
which causes the following message on startup:
</p>

<pre class="example">
You appear to be setting environment variables ("PATH") in your .bashrc or .zshrc:
those files are only read by interactive shells, so you should instead set
environment variables in startup files like .profile, .bash_profile or .zshenv.
Refer to your shell's man page for more info.

Customize `exec-path-from-shell-arguments` to remove "-i" when done, or disable
`exec-path-from-shell-check-startup-files` to disable this message.
</pre>

<p>
The following line prevents the warning above:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq exec-path-from-shell-check-startup-files nil)
</pre>
</div>
</div>

<div id="outline-container-org890d1a8" class="outline-4">
<h4 id="org890d1a8">lorri</h4>
<div class="outline-text-4" id="text-org890d1a8">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package direnv
 :config
 (direnv-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org93ef137" class="outline-3">
<h3 id="org93ef137">aesthetics</h3>
<div class="outline-text-3" id="text-org93ef137">
</div>
<div id="outline-container-org5685964" class="outline-4">
<h4 id="org5685964">theme</h4>
<div class="outline-text-4" id="text-org5685964">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-file "~/.config/wpg/templates/theme.el")
(enable-theme 'xresources)
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org6a006bc"></a>Automatically update theme<br />
<div class="outline-text-5" id="text-org6a006bc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun theme-callback (event)
  (load-file "~/.config/wpg/templates/theme.el")
  (set-eyeliner-colors)
  (eyeliner/install)
  (enable-theme 'xresources))

(require 'filenotify)
(setq theme-watch-handle
      (file-notify-add-watch
       "/home/ldlework/.config/wpg/templates/theme.el" '(change) 'theme-callback))
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org726ab60" class="outline-4">
<h4 id="org726ab60">default font</h4>
<div class="outline-text-4" id="text-org726ab60">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq powerline-height 32)
(set-face-attribute 'default nil :family "New Times Roman" :weight 'light)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbcdbf6d" class="outline-4">
<h4 id="orgbcdbf6d">unicode fonts</h4>
<div class="outline-text-4" id="text-orgbcdbf6d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package unicode-fonts
  :config
  (unicode-fonts-setup)
  (set-face-attribute 'default nil :font "Source Code Pro")
  ;(set-fontset-font "fontset-default" 'unicode "Consolas" nil)
  (set-fontset-font "fontset-default" 'unicode "DejaVu Sans Mono" nil)
  (set-fontset-font "fontset-default" 'unicode "Symbola" nil)
 )
</pre>
</div>
</div>
</div>

<div id="outline-container-org61180fc" class="outline-4">
<h4 id="org61180fc">eyeliner for modeline</h4>
<div class="outline-text-4" id="text-org61180fc">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun set-eyeliner-colors ()
  (setq buffer-name-color "#ff0000")
  (setq buffer-name-modified-color "#ff0000")
  (setq eyeliner/warm-color (theme-color 'red))
  (setq eyeliner/cool-color (theme-color 'cyan))
  (setq eyeliner/plain-color (theme-color 'foreground))
  (custom-set-faces
   `(powerline-active0
     ((t (:background ,(theme-color 'foreground)))))
   `(powerline-inactive0
     ((t (:background ,(theme-color 'foreground)))))
   `(powerline-active1
     ((t (:background ,(theme-color 'foreground)
                      :foreground ,(theme-color 'background)))))
   `(powerline-inactive1
     ((t (:background ,(theme-color 'foreground)
                      :foreground ,(theme-color 'background)))))
   `(powerline-active2
     ((t (:background ,(theme-color 'background)))))
   `(powerline-inactive2
     ((t (:background ,(theme-color 'background)))))))

(eval `(use-package eyeliner
   ;; :straight (eyeliner :type git :host github :repo "dustinlacewell/eyeliner")
   :demand t
   :straight (eyeliner :local-repo ,(my/project-directory "eyeliner"))
   :config
   (spaceline-helm-mode 1)
   (set-eyeliner-colors)
   (eyeliner/install)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcbe9fe8" class="outline-3">
<h3 id="orgcbe9fe8">core</h3>
<div class="outline-text-3" id="text-orgcbe9fe8">
</div>
<div id="outline-container-orgee86f22" class="outline-4">
<h4 id="orgee86f22">minor modes</h4>
<div class="outline-text-4" id="text-orgee86f22">
</div>
<ul class="org-ul">
<li><a id="orga1b6dde"></a>ispell-minor-mode<br />
<div class="outline-text-5" id="text-orga1b6dde">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq ispell-program-name (concat my/home-directory ".nix-profile/bin/aspell"))
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org94719f3" class="outline-4">
<h4 id="org94719f3">backup every save</h4>
<div class="outline-text-4" id="text-org94719f3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package backup-each-save
  :config (add-hook 'after-save-hook 'backup-each-save))
</pre>
</div>
</div>
</div>

<div id="outline-container-org35c555c" class="outline-4">
<h4 id="org35c555c">fix tooltips</h4>
<div class="outline-text-4" id="text-org35c555c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq x-gtk-use-system-tooltips nil)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2efad0d" class="outline-3">
<h3 id="org2efad0d">org</h3>
<div class="outline-text-3" id="text-org2efad0d">
</div>
<div id="outline-container-org48c7476" class="outline-4">
<h4 id="org48c7476">look</h4>
<div class="outline-text-4" id="text-org48c7476">
</div>
<ul class="org-ul">
<li><a id="org06c9fed"></a>theme customizations<br />
<div class="outline-text-5" id="text-org06c9fed">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when window-system
  (use-package org-beautify-theme
    :after (org)
    :config
    (setq org-fontify-whole-heading-line t)
    (setq org-fontify-quote-and-verse-blocks t)
    (setq org-hide-emphasis-markers t)))
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgdd8f42e" class="outline-3">
<h3 id="orgdd8f42e">language support</h3>
<div class="outline-text-3" id="text-orgdd8f42e">
</div>
<div id="outline-container-orgadcce67" class="outline-4">
<h4 id="orgadcce67">python</h4>
<div class="outline-text-4" id="text-orgadcce67">
</div>
<ul class="org-ul">
<li><a id="org8bd6920"></a>jedi<br />
<div class="outline-text-5" id="text-org8bd6920">
<p>
<a href="https://github.com/tkf/emacs-jedi">Jedi</a> is an auto-completion server for Python.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(use-package jedi
  :init
  (progn
    (add-hook 'python-mode-hook 'jedi:setup)
    (setq jedi:complete-on-dot t)))
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3218501" class="outline-4">
<h4 id="org3218501">javascript</h4>
<div class="outline-text-4" id="text-org3218501">
</div>
<ul class="org-ul">
<li><a id="org449908b"></a>js2-mode<br />
<div class="outline-text-5" id="text-org449908b">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package js2-mode
  :config
  (add-to-list 'auto-mode-alist '("\\.js\\'" . js2-mode))
  (add-hook 'js2-mode-hook #'js2-imenu-extras-mode)
  (define-key js2-mode-map (kbd "C-k") #'js2r-kill)
  (define-key js-mode-map (kbd "M-.") nil)
  (setq js2-include-node-externs t)
  (setq js2-include-browser-externs t))
</pre>
</div>
</div>
</li>
<li><a id="orged90b79"></a>xref-js2<br />
<div class="outline-text-5" id="text-orged90b79">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package xref-js2
  :config
  (add-hook 'js2-mode-hook
            (lambda ()
              (add-hook 'xref-backend-functions #'xref-js2-xref-backend nil t))))
</pre>
</div>
</div>
</li>
<li><a id="orga4e717c"></a>js2-refactor<br />
<div class="outline-text-5" id="text-orga4e717c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package js2-refactor
  :config
  (add-hook 'js2-mode-hook #'js2-refactor-mode)
  (js2r-add-keybindings-with-prefix "C-c C-r"))
</pre>
</div>
</div>
</li>
<li><a id="org681634e"></a>company-tern<br />
<div class="outline-text-5" id="text-org681634e">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package company-tern
  :config
  (setq tern-command '("npx" "tern"))
  (add-to-list 'company-backends 'company-tern)
  (add-hook 'js2-mode-hook (lambda ()
                             (tern-mode)
                             (company-mode)))

  ;; Disable completion keybindings, as we use xref-js2 instead
  (define-key tern-mode-keymap (kbd "M-.") nil)
  (define-key tern-mode-keymap (kbd "M-,") nil))
</pre>
</div>
</div>
</li>
<li><a id="orgad0c573"></a>javascript-hydra<br />
<div class="outline-text-5" id="text-orgad0c573">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun js2r-toggle-async ()
  (interactive)
  (if (string-equal "async" (thing-at-point 'word))
      (progn
        (search-forward "function")
        (backward-word)))
  (js2r-toggle-function-async))

(nougat-hydra hydra-js (:color blue :major-mode js2-mode)
  ("Eval"
   (("f" js2-eval-defun "function")
    ("e" js2-eval "expression"))
   "Extract"
   (("f" js2r-extract-function "function")
    ("m" js2r-extract-method "method")
    ("v" js2r-extract-var "var")
    ("l" js2r-extract-let "let")
    ("c" js2r-extract-let "const"))
   "Funcs"
   (("a" js2r-toggle-arrow-function-and-expression "arrow" :color red)
    ("A" js2r-toggle-async "async" :color red)
    ("O" js2r-arguments-to-object "object param"))
   "Vars"
   (("r" js2r-rename-var "rename")
    ("i" js2r-inline-var "inline"))
   "Misc"
   (("k" js2r-kill "kill" :color red)
    ("t" js2r-string-to-template "string to template")
    ("l" js2r-log-this "log expr")
    ("w" js2r-wrap-buffer-in-iife "wrap in iife")
    ("G" js2r-inject-global-in-iife "global for iife"))))
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org25aa551" class="outline-4">
<h4 id="org25aa551">typescript</h4>
<div class="outline-text-4" id="text-org25aa551">
</div>
<ul class="org-ul">
<li><a id="orga282663"></a>tide<br />
<div class="outline-text-5" id="text-orga282663">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun setup-tide-mode ()
  (interactive)
  (direnv-mode)
  (direnv-update-environment)
  (tide-setup)
  (flycheck-mode +1)
  (setq flycheck-check-syntax-automatically '(save mode-enabled))
  (eldoc-mode +1)
  (tide-hl-identifier-mode +1)
  (company-mode +1))

(use-package tide
  :config
  (add-hook 'before-save-hook 'tide-format-before-save)
  (add-hook 'typescript-mode-hook #'setup-tide-mode)
  (add-to-list 'auto-mode-alist '("\\.tsx\\'" . web-mode))
  (add-hook 'web-mode-hook
            (lambda ()
              (when (string-equal "tsx" (file-name-extension buffer-file-name))
                (setup-tide-mode))))
  (flycheck-add-mode 'typescript-tslint 'web-mode))
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org41a196d" class="outline-4">
<h4 id="org41a196d">f#</h4>
<div class="outline-text-4" id="text-org41a196d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(with-eval-after-load 'fsharp-mode
  (add-to-list 'exec-path "/nix/var/nix/profiles/default/bin")
  (add-to-list 'exec-path (expand-file-name "~/.nix-profile/bin"))
  (add-to-list 'auto-mode-alist '("\\.fs[iylx]?$" . fsharp-mode)))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgab75118" class="outline-3">
<h3 id="orgab75118">helm</h3>
<div class="outline-text-3" id="text-orgab75118">
</div>
<div id="outline-container-org47ac106" class="outline-4">
<h4 id="org47ac106">theme customizations</h4>
<div class="outline-text-4" id="text-org47ac106">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-face-attribute
 'helm-selection nil
 :inherit t
 :background (theme-color 'blue)
 :foreground (theme-color 'background)
 :height 1.0
 :weight 'ultra-bold
 :inverse-video nil)

(set-face-attribute
 'helm-source-header nil
 :inherit nil
 :underline nil
 :background (theme-color 'background)
 :foreground (theme-color 'light-red)
 :height 1.9)

(set-face-attribute
 'helm-header nil
 :inherit nil
 :height 0.8
 :background (theme-color 'background)
 :foreground (theme-color 'cyan))

(set-face-attribute
 'helm-separator nil
 :height 0.8
 :foreground (theme-color 'light-red))

(set-face-attribute
 'helm-match nil
 :weight 'bold
 :foreground (theme-color 'green))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6f619ba" class="outline-3">
<h3 id="org6f619ba">postamble</h3>
<div class="outline-text-3" id="text-org6f619ba">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(enable-theme 'xresources)

)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org887027b" class="outline-2">
<h2 id="org887027b">windows configuration</h2>
<div class="outline-text-2" id="text-org887027b">
</div>
<div id="outline-container-org7ea7a8d" class="outline-3">
<h3 id="org7ea7a8d">preamble</h3>
<div class="outline-text-3" id="text-org7ea7a8d">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (string-equal system-type "windows-nt")
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf58536" class="outline-3">
<h3 id="orgdf58536">theme</h3>
<div class="outline-text-3" id="text-orgdf58536">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package dracula-theme)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1eedb3" class="outline-3">
<h3 id="orgd1eedb3">postamble</h3>
<div class="outline-text-3" id="text-orgd1eedb3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">)
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2020-09-09 Wed 15:14</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
